!function(t){function e(e){for(var i,o,s=e[0],l=e[1],c=e[2],h=0,f=[];h<s.length;h++)o=s[h],n[o]&&f.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(u&&u(e);f.length;)f.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],i=!0,s=1;s<r.length;s++){var l=r[s];0!==n[l]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var i={},n={0:0},a=[];function o(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=i,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(r,i,function(e){return t[e]}.bind(null,i));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;a.push([109,1]),r()}({109:function(t,e,r){"use strict";r.r(e);var i=r(10),n=r.n(i),a=r(16),o=r.n(a),s=r(3),l=r.n(s),c=(r(75),r(65)),u=r.n(c),h=r(66),f=r.n(h),d=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";u()(this,t),this.name=e,this.events={}}return f()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,e){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i=i||{},"function"!=typeof e)throw new TypeError("Invalid callback");return d(t).forEach(function(t){r.events[t]||(r.events[t]=[]),r.events[t].push({callback:e,options:i})}),this}},{key:"off",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(t).filter(function(t){return!!e.events[t]}).forEach(function(t){if(r)for(var n=e.events[t].length;n--;){var a=e.events[t][n];(!a.options.persist||i)&&a.callback===r&&e.events[t].splice(n,1)}else e.events[t]=i?[]:e.events[t].filter(function(t){return!0!==t.options.persist})}),this}},{key:"emit",value:function(t){for(var e=this,r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return d(t).forEach(function(t){e.events[t]&&e.events[t].forEach(function(t){return t.callback.apply(void 0,i)})}),this}}]),t}(),m=r(25),_=r.n(m),b=navigator,v=b.platform,g=b.userAgent,y=g.includes("MSIE"),w=g.toLowerCase().includes("opera"),k=g.toLowerCase().includes("firefox"),A=g.toLowerCase().includes("safari")&&!g.toLowerCase().includes("chrome"),S=!(y||w||k||A),I=v.includes("Mac"),C=v.includes("Win"),x=function(){var t,e={8:"BackSpace",9:"Tab",12:"KP_Begin",13:"Return",16:"Shift_L",17:"Control_L",18:"Alt_L",19:"Pause",20:"Caps_Lock",27:"Escape",31:"Mode_switch",32:"space",33:"Prior",34:"Next",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",42:"Print",45:"Insert",46:"Delete",58:"colon",59:"semicolon",60:"less",61:"equal",62:"greater",63:"question",64:"at",91:"Menu",92:"Menu",93:"KP_Enter",106:"KP_Multiply",107:"KP_Add",109:"KP_Subtract",110:"KP_Delete",111:"KP_Divide",144:"Num_Lock",145:"Scroll_Lock",160:"dead_circumflex",167:"underscore",161:"exclam",162:"quotedbl",163:"numbersign",164:"dollar",165:"percent",166:"ampersand",168:"parenleft",169:"parenright",170:"asterisk",171:"plus",172:"bar",173:"minus",174:"braceleft",175:"braceright",176:"asciitilde",186:"semicolon",187:"equal",188:"comma",189:"minus",190:"period",191:"slash",192:"grave",219:"bracketleft",220:"backslash",221:"bracketright",222:"apostrophe"};for(t=0;t<26;t++)e[65+t]="abcdefghijklmnopqrstuvwxyz"[t];for(t=0;t<10;t++)e[48+t]=""+t,e[96+t]=""+t;for(t=1;t<=24;t++)e[111+t]="F"+t;return e}(),P=function(){for(var t={Escape:"Escape",Tab:"Tab",CapsLock:"Caps_Lock",ShiftLeft:"Shift_L",ControlLeft:"Control_L",MetaLeft:"Meta_L",AltLeft:"Alt_L",Space:"space",AltRight:"Alt_R",MetaRight:"Meta_R",ContextMenu:"Menu_R",ControlRight:"Control_L",ShiftRight:"Shift_R",Enter:"Return",Backspace:"BackSpace",ScrollLock:"Scroll_Lock",Pause:"Pause",NumLock:"Num_Lock",Insert:"Insert",Home:"Home",PageUp:"Prior",Delete:"Delete",End:"End",PageDown:"Next"},e=0;e<=9;e++)t["Numpad"+e]=""+e,t["KP"+e]="KP"+e;for(var r=1;r<=20;r++)t["F"+r]="F"+r;return t}(),O={NumpadDivide:"KP_Divide",NumpadMultiply:"KP_Multiply",NumpadSubstract:"KP_Substract",NumpadAdd:"KP_Add",NumpadEnter:"KP_Enter",NumpadDecimal:"KP_Decimal",Insert:"KP_Insert",End:"KP_End",ArrowDown:"KP_Down",PageDown:"KP_Next",ArrowLeft:"KP_Left",Clear:"KP_Begin",ArrowRight:"KP_Right",Home:"KP_Home",ArrowUp:"KP_Up",PageUp:"KP_Prior"},U={space:32,exclam:33,quotedbl:34,numbersign:35,dollar:36,percent:37,ampersand:38,apostrophe:39,parenleft:40,parenright:41,asterisk:42,plus:43,comma:44,minus:45,period:46,slash:47,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,colon:58,semicolon:59,less:60,equal:61,greater:62,question:63,at:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,bracketleft:91,backslash:92,bracketright:93,asciicircum:94,underscore:95,grave:96,a:97,b:98,c:99,d:100,e:101,f:102,g:103,h:104,i:105,j:106,k:107,l:108,m:109,n:110,o:111,p:112,q:113,r:114,s:115,t:116,u:117,v:118,w:119,x:120,y:121,z:122,braceleft:123,bar:124,braceright:125,asciitilde:126,nobreakspace:160,exclamdown:161,cent:162,sterling:163,currency:164,yen:165,brokenbar:166,section:167,diaeresis:168,copyright:169,ordfeminine:170,guillemotleft:171,notsign:172,hyphen:173,registered:174,macron:175,degree:176,plusminus:177,twosuperior:178,threesuperior:179,acute:180,mu:181,paragraph:182,periodcentered:183,cedilla:184,onesuperior:185,masculine:186,guillemotright:187,onequarter:188,onehalf:189,threequarters:190,questiondown:191,Agrave:192,Aacute:193,Acircumflex:194,Atilde:195,Adiaeresis:196,Aring:197,AE:198,Ccedilla:199,Egrave:200,Eacute:201,Ecircumflex:202,Ediaeresis:203,Igrave:204,Iacute:205,Icircumflex:206,Idiaeresis:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocircumflex:212,Otilde:213,Odiaeresis:214,multiply:215,Oslash:216,Ooblique:216,Ugrave:217,Uacute:218,Ucircumflex:219,Udiaeresis:220,Yacute:221,THORN:222,ssharp:223,agrave:224,aacute:225,acircumflex:226,atilde:227,adiaeresis:228,aring:229,ae:230,ccedilla:231,egrave:232,eacute:233,ecircumflex:234,ediaeresis:235,igrave:236,iacute:237,icircumflex:238,idiaeresis:239,eth:240,ntilde:241,ograve:242,oacute:243,ocircumflex:244,otilde:245,odiaeresis:246,division:247,oslash:248,ooblique:248,ugrave:249,uacute:250,ucircumflex:251,udiaeresis:252,yacute:253,thorn:254,ydiaeresis:255,Aogonek:260,breve:728,Lstroke:321,Lcaron:317,Sacute:346,Scaron:352,Scedilla:350,Tcaron:356,Zacute:377,Zcaron:381,Zabovedot:379,aogonek:261,ogonek:731,lstroke:322,lcaron:318,sacute:347,caron:711,scaron:353,scedilla:351,tcaron:357,zacute:378,doubleacute:733,zcaron:382,zabovedot:380,Racute:340,Abreve:258,Lacute:313,Cacute:262,Ccaron:268,Eogonek:280,Ecaron:282,Dcaron:270,Dstroke:272,Nacute:323,Ncaron:327,Odoubleacute:336,Rcaron:344,Uring:366,Udoubleacute:368,Tcedilla:354,racute:341,abreve:259,lacute:314,cacute:263,ccaron:269,eogonek:281,ecaron:283,dcaron:271,dstroke:273,nacute:324,ncaron:328,odoubleacute:337,rcaron:345,uring:367,udoubleacute:369,tcedilla:355,abovedot:729,Hstroke:294,Hcircumflex:292,Iabovedot:304,Gbreve:286,Jcircumflex:308,hstroke:295,hcircumflex:293,idotless:305,gbreve:287,jcircumflex:309,Cabovedot:266,Ccircumflex:264,Gabovedot:288,Gcircumflex:284,Ubreve:364,Scircumflex:348,cabovedot:267,ccircumflex:265,gabovedot:289,gcircumflex:285,ubreve:365,scircumflex:349,kra:312,Rcedilla:342,Itilde:296,Lcedilla:315,Emacron:274,Gcedilla:290,Tslash:358,rcedilla:343,itilde:297,lcedilla:316,emacron:275,gcedilla:291,tslash:359,ENG:330,eng:331,Amacron:256,Iogonek:302,Eabovedot:278,Imacron:298,Ncedilla:325,Omacron:332,Kcedilla:310,Uogonek:370,Utilde:360,Umacron:362,amacron:257,iogonek:303,eabovedot:279,imacron:299,ncedilla:326,omacron:333,kcedilla:311,uogonek:371,utilde:361,umacron:363,Wcircumflex:372,wcircumflex:373,Ycircumflex:374,ycircumflex:375,Babovedot:7682,babovedot:7683,Dabovedot:7690,dabovedot:7691,Fabovedot:7710,fabovedot:7711,Mabovedot:7744,mabovedot:7745,Pabovedot:7766,pabovedot:7767,Sabovedot:7776,sabovedot:7777,Tabovedot:7786,tabovedot:7787,Wgrave:7808,wgrave:7809,Wacute:7810,wacute:7811,Wdiaeresis:7812,wdiaeresis:7813,Ygrave:7922,ygrave:7923,OE:338,oe:339,Ydiaeresis:376,overline:8254,kana_fullstop:12290,kana_openingbracket:12300,kana_closingbracket:12301,kana_comma:12289,kana_conjunctive:12539,kana_WO:12530,kana_a:12449,kana_i:12451,kana_u:12453,kana_e:12455,kana_o:12457,kana_ya:12515,kana_yu:12517,kana_yo:12519,kana_tsu:12483,prolongedsound:12540,kana_A:12450,kana_I:12452,kana_U:12454,kana_E:12456,kana_O:12458,kana_KA:12459,kana_KI:12461,kana_KU:12463,kana_KE:12465,kana_KO:12467,kana_SA:12469,kana_SHI:12471,kana_SU:12473,kana_SE:12475,kana_SO:12477,kana_TA:12479,kana_CHI:12481,kana_TSU:12484,kana_TE:12486,kana_TO:12488,kana_NA:12490,kana_NI:12491,kana_NU:12492,kana_NE:12493,kana_NO:12494,kana_HA:12495,kana_HI:12498,kana_FU:12501,kana_HE:12504,kana_HO:12507,kana_MA:12510,kana_MI:12511,kana_MU:12512,kana_ME:12513,kana_MO:12514,kana_YA:12516,kana_YU:12518,kana_YO:12520,kana_RA:12521,kana_RI:12522,kana_RU:12523,kana_RE:12524,kana_RO:12525,kana_WA:12527,kana_N:12531,voicedsound:12443,semivoicedsound:12444,Farsi_0:1776,Farsi_1:1777,Farsi_2:1778,Farsi_3:1779,Farsi_4:1780,Farsi_5:1781,Farsi_6:1782,Farsi_7:1783,Farsi_8:1784,Farsi_9:1785,Arabic_percent:1642,Arabic_superscript_alef:1648,Arabic_tteh:1657,Arabic_peh:1662,Arabic_tcheh:1670,Arabic_ddal:1672,Arabic_rreh:1681,Arabic_comma:1548,Arabic_fullstop:1748,Arabic_0:1632,Arabic_1:1633,Arabic_2:1634,Arabic_3:1635,Arabic_4:1636,Arabic_5:1637,Arabic_6:1638,Arabic_7:1639,Arabic_8:1640,Arabic_9:1641,Arabic_semicolon:1563,Arabic_question_mark:1567,Arabic_hamza:1569,Arabic_maddaonalef:1570,Arabic_hamzaonalef:1571,Arabic_hamzaonwaw:1572,Arabic_hamzaunderalef:1573,Arabic_hamzaonyeh:1574,Arabic_alef:1575,Arabic_beh:1576,Arabic_tehmarbuta:1577,Arabic_teh:1578,Arabic_theh:1579,Arabic_jeem:1580,Arabic_hah:1581,Arabic_khah:1582,Arabic_dal:1583,Arabic_thal:1584,Arabic_ra:1585,Arabic_zain:1586,Arabic_seen:1587,Arabic_sheen:1588,Arabic_sad:1589,Arabic_dad:1590,Arabic_tah:1591,Arabic_zah:1592,Arabic_ain:1593,Arabic_ghain:1594,Arabic_tatweel:1600,Arabic_feh:1601,Arabic_qaf:1602,Arabic_kaf:1603,Arabic_lam:1604,Arabic_meem:1605,Arabic_noon:1606,Arabic_ha:1607,Arabic_waw:1608,Arabic_alefmaksura:1609,Arabic_yeh:1610,Arabic_fathatan:1611,Arabic_dammatan:1612,Arabic_kasratan:1613,Arabic_fatha:1614,Arabic_damma:1615,Arabic_kasra:1616,Arabic_shadda:1617,Arabic_sukun:1618,Arabic_madda_above:1619,Arabic_hamza_above:1620,Arabic_hamza_below:1621,Arabic_jeh:1688,Arabic_veh:1700,Arabic_keheh:1705,Arabic_gaf:1711,Arabic_noon_ghunna:1722,Arabic_heh_doachashmee:1726,Farsi_yeh:1740,Arabic_farsi_yeh:1740,Arabic_yeh_baree:1746,Arabic_heh_goal:1729,Cyrillic_GHE_bar:1170,Cyrillic_ghe_bar:1171,Cyrillic_ZHE_descender:1174,Cyrillic_zhe_descender:1175,Cyrillic_KA_descender:1178,Cyrillic_ka_descender:1179,Cyrillic_KA_vertstroke:1180,Cyrillic_ka_vertstroke:1181,Cyrillic_EN_descender:1186,Cyrillic_en_descender:1187,Cyrillic_U_straight:1198,Cyrillic_u_straight:1199,Cyrillic_U_straight_bar:1200,Cyrillic_u_straight_bar:1201,Cyrillic_HA_descender:1202,Cyrillic_ha_descender:1203,Cyrillic_CHE_descender:1206,Cyrillic_che_descender:1207,Cyrillic_CHE_vertstroke:1208,Cyrillic_che_vertstroke:1209,Cyrillic_SHHA:1210,Cyrillic_shha:1211,Cyrillic_SCHWA:1240,Cyrillic_schwa:1241,Cyrillic_I_macron:1250,Cyrillic_i_macron:1251,Cyrillic_O_bar:1256,Cyrillic_o_bar:1257,Cyrillic_U_macron:1262,Cyrillic_u_macron:1263,Serbian_dje:1106,Macedonia_gje:1107,Cyrillic_io:1105,Ukrainian_ie:1108,Macedonia_dse:1109,Ukrainian_i:1110,Ukrainian_yi:1111,Cyrillic_je:1112,Cyrillic_lje:1113,Cyrillic_nje:1114,Serbian_tshe:1115,Macedonia_kje:1116,Ukrainian_ghe_with_upturn:1169,Byelorussian_shortu:1118,Cyrillic_dzhe:1119,numerosign:8470,Serbian_DJE:1026,Macedonia_GJE:1027,Cyrillic_IO:1025,Ukrainian_IE:1028,Macedonia_DSE:1029,Ukrainian_I:1030,Ukrainian_YI:1031,Cyrillic_JE:1032,Cyrillic_LJE:1033,Cyrillic_NJE:1034,Serbian_TSHE:1035,Macedonia_KJE:1036,Ukrainian_GHE_WITH_UPTURN:1168,Byelorussian_SHORTU:1038,Cyrillic_DZHE:1039,Cyrillic_yu:1102,Cyrillic_a:1072,Cyrillic_be:1073,Cyrillic_tse:1094,Cyrillic_de:1076,Cyrillic_ie:1077,Cyrillic_ef:1092,Cyrillic_ghe:1075,Cyrillic_ha:1093,Cyrillic_i:1080,Cyrillic_shorti:1081,Cyrillic_ka:1082,Cyrillic_el:1083,Cyrillic_em:1084,Cyrillic_en:1085,Cyrillic_o:1086,Cyrillic_pe:1087,Cyrillic_ya:1103,Cyrillic_er:1088,Cyrillic_es:1089,Cyrillic_te:1090,Cyrillic_u:1091,Cyrillic_zhe:1078,Cyrillic_ve:1074,Cyrillic_softsign:1100,Cyrillic_yeru:1099,Cyrillic_ze:1079,Cyrillic_sha:1096,Cyrillic_e:1101,Cyrillic_shcha:1097,Cyrillic_che:1095,Cyrillic_hardsign:1098,Cyrillic_YU:1070,Cyrillic_A:1040,Cyrillic_BE:1041,Cyrillic_TSE:1062,Cyrillic_DE:1044,Cyrillic_IE:1045,Cyrillic_EF:1060,Cyrillic_GHE:1043,Cyrillic_HA:1061,Cyrillic_I:1048,Cyrillic_SHORTI:1049,Cyrillic_KA:1050,Cyrillic_EL:1051,Cyrillic_EM:1052,Cyrillic_EN:1053,Cyrillic_O:1054,Cyrillic_PE:1055,Cyrillic_YA:1071,Cyrillic_ER:1056,Cyrillic_ES:1057,Cyrillic_TE:1058,Cyrillic_U:1059,Cyrillic_ZHE:1046,Cyrillic_VE:1042,Cyrillic_SOFTSIGN:1068,Cyrillic_YERU:1067,Cyrillic_ZE:1047,Cyrillic_SHA:1064,Cyrillic_E:1069,Cyrillic_SHCHA:1065,Cyrillic_CHE:1063,Cyrillic_HARDSIGN:1066,Greek_ALPHAaccent:902,Greek_EPSILONaccent:904,Greek_ETAaccent:905,Greek_IOTAaccent:906,Greek_IOTAdieresis:938,Greek_OMICRONaccent:908,Greek_UPSILONaccent:910,Greek_UPSILONdieresis:939,Greek_OMEGAaccent:911,Greek_accentdieresis:901,Greek_horizbar:8213,Greek_alphaaccent:940,Greek_epsilonaccent:941,Greek_etaaccent:942,Greek_iotaaccent:943,Greek_iotadieresis:970,Greek_iotaaccentdieresis:912,Greek_omicronaccent:972,Greek_upsilonaccent:973,Greek_upsilondieresis:971,Greek_upsilonaccentdieresis:944,Greek_omegaaccent:974,Greek_ALPHA:913,Greek_BETA:914,Greek_GAMMA:915,Greek_DELTA:916,Greek_EPSILON:917,Greek_ZETA:918,Greek_ETA:919,Greek_THETA:920,Greek_IOTA:921,Greek_KAPPA:922,Greek_LAMDA:923,Greek_LAMBDA:923,Greek_MU:924,Greek_NU:925,Greek_XI:926,Greek_OMICRON:927,Greek_PI:928,Greek_RHO:929,Greek_SIGMA:931,Greek_TAU:932,Greek_UPSILON:933,Greek_PHI:934,Greek_CHI:935,Greek_PSI:936,Greek_OMEGA:937,Greek_alpha:945,Greek_beta:946,Greek_gamma:947,Greek_delta:948,Greek_epsilon:949,Greek_zeta:950,Greek_eta:951,Greek_theta:952,Greek_iota:953,Greek_kappa:954,Greek_lamda:955,Greek_lambda:955,Greek_mu:956,Greek_nu:957,Greek_xi:958,Greek_omicron:959,Greek_pi:960,Greek_rho:961,Greek_sigma:963,Greek_finalsmallsigma:962,Greek_tau:964,Greek_upsilon:965,Greek_phi:966,Greek_chi:967,Greek_psi:968,Greek_omega:969,leftradical:9143,topintegral:8992,botintegral:8993,topleftsqbracket:9121,botleftsqbracket:9123,toprightsqbracket:9124,botrightsqbracket:9126,topleftparens:9115,botleftparens:9117,toprightparens:9118,botrightparens:9120,leftmiddlecurlybrace:9128,rightmiddlecurlybrace:9132,lessthanequal:8804,notequal:8800,greaterthanequal:8805,integral:8747,therefore:8756,variation:8733,infinity:8734,nabla:8711,approximate:8764,similarequal:8771,ifonlyif:8660,implies:8658,identical:8801,radical:8730,includedin:8834,includes:8835,intersection:8745,union:8746,logicaland:8743,logicalor:8744,partialderivative:8706,function:402,leftarrow:8592,uparrow:8593,rightarrow:8594,downarrow:8595,soliddiamond:9670,checkerboard:9618,ht:9225,ff:9228,cr:9229,lf:9226,nl:9252,vt:9227,lowrightcorner:9496,uprightcorner:9488,upleftcorner:9484,lowleftcorner:9492,crossinglines:9532,horizlinescan1:9146,horizlinescan3:9147,horizlinescan5:9472,horizlinescan7:9148,horizlinescan9:9149,leftt:9500,rightt:9508,bott:9524,topt:9516,vertbar:9474,emspace:8195,enspace:8194,em3space:8196,em4space:8197,digitspace:8199,punctspace:8200,thinspace:8201,hairspace:8202,emdash:8212,endash:8211,ellipsis:8230,doubbaselinedot:8229,onethird:8531,twothirds:8532,onefifth:8533,twofifths:8534,threefifths:8535,fourfifths:8536,onesixth:8537,fivesixths:8538,careof:8453,figdash:8210,oneeighth:8539,threeeighths:8540,fiveeighths:8541,seveneighths:8542,trademark:8482,leftsinglequotemark:8216,rightsinglequotemark:8217,leftdoublequotemark:8220,rightdoublequotemark:8221,prescription:8478,permille:8240,minutes:8242,seconds:8243,latincross:10013,club:9827,diamond:9830,heart:9829,maltesecross:10016,dagger:8224,doubledagger:8225,checkmark:10003,ballotcross:10007,musicalsharp:9839,musicalflat:9837,malesymbol:9794,femalesymbol:9792,telephone:9742,telephonerecorder:8981,phonographcopyright:8471,caret:8248,singlelowquotemark:8218,doublelowquotemark:8222,downtack:8868,downstile:8970,jot:8728,quad:9109,uptack:8869,circle:9675,upstile:8968,lefttack:8867,righttack:8866,hebrew_doublelowline:8215,hebrew_aleph:1488,hebrew_bet:1489,hebrew_gimel:1490,hebrew_dalet:1491,hebrew_he:1492,hebrew_waw:1493,hebrew_zain:1494,hebrew_chet:1495,hebrew_tet:1496,hebrew_yod:1497,hebrew_finalkaph:1498,hebrew_kaph:1499,hebrew_lamed:1500,hebrew_finalmem:1501,hebrew_mem:1502,hebrew_finalnun:1503,hebrew_nun:1504,hebrew_samech:1505,hebrew_ayin:1506,hebrew_finalpe:1507,hebrew_pe:1508,hebrew_finalzade:1509,hebrew_zade:1510,hebrew_qoph:1511,hebrew_resh:1512,hebrew_shin:1513,hebrew_taw:1514,Thai_kokai:3585,Thai_khokhai:3586,Thai_khokhuat:3587,Thai_khokhwai:3588,Thai_khokhon:3589,Thai_khorakhang:3590,Thai_ngongu:3591,Thai_chochan:3592,Thai_choching:3593,Thai_chochang:3594,Thai_soso:3595,Thai_chochoe:3596,Thai_yoying:3597,Thai_dochada:3598,Thai_topatak:3599,Thai_thothan:3600,Thai_thonangmontho:3601,Thai_thophuthao:3602,Thai_nonen:3603,Thai_dodek:3604,Thai_totao:3605,Thai_thothung:3606,Thai_thothahan:3607,Thai_thothong:3608,Thai_nonu:3609,Thai_bobaimai:3610,Thai_popla:3611,Thai_phophung:3612,Thai_fofa:3613,Thai_phophan:3614,Thai_fofan:3615,Thai_phosamphao:3616,Thai_moma:3617,Thai_yoyak:3618,Thai_rorua:3619,Thai_ru:3620,Thai_loling:3621,Thai_lu:3622,Thai_wowaen:3623,Thai_sosala:3624,Thai_sorusi:3625,Thai_sosua:3626,Thai_hohip:3627,Thai_lochula:3628,Thai_oang:3629,Thai_honokhuk:3630,Thai_paiyannoi:3631,Thai_saraa:3632,Thai_maihanakat:3633,Thai_saraaa:3634,Thai_saraam:3635,Thai_sarai:3636,Thai_saraii:3637,Thai_saraue:3638,Thai_sarauee:3639,Thai_sarau:3640,Thai_sarauu:3641,Thai_phinthu:3642,Thai_baht:3647,Thai_sarae:3648,Thai_saraae:3649,Thai_sarao:3650,Thai_saraaimaimuan:3651,Thai_saraaimaimalai:3652,Thai_lakkhangyao:3653,Thai_maiyamok:3654,Thai_maitaikhu:3655,Thai_maiek:3656,Thai_maitho:3657,Thai_maitri:3658,Thai_maichattawa:3659,Thai_thanthakhat:3660,Thai_nikhahit:3661,Thai_leksun:3664,Thai_leknung:3665,Thai_leksong:3666,Thai_leksam:3667,Thai_leksi:3668,Thai_lekha:3669,Thai_lekhok:3670,Thai_lekchet:3671,Thai_lekpaet:3672,Thai_lekkao:3673,Armenian_ligature_ew:1415,Armenian_full_stop:1417,Armenian_verjaket:1417,Armenian_separation_mark:1373,Armenian_but:1373,Armenian_hyphen:1418,Armenian_yentamna:1418,Armenian_exclam:1372,Armenian_amanak:1372,Armenian_accent:1371,Armenian_shesht:1371,Armenian_question:1374,Armenian_paruyk:1374,Armenian_AYB:1329,Armenian_ayb:1377,Armenian_BEN:1330,Armenian_ben:1378,Armenian_GIM:1331,Armenian_gim:1379,Armenian_DA:1332,Armenian_da:1380,Armenian_YECH:1333,Armenian_yech:1381,Armenian_ZA:1334,Armenian_za:1382,Armenian_E:1335,Armenian_e:1383,Armenian_AT:1336,Armenian_at:1384,Armenian_TO:1337,Armenian_to:1385,Armenian_ZHE:1338,Armenian_zhe:1386,Armenian_INI:1339,Armenian_ini:1387,Armenian_LYUN:1340,Armenian_lyun:1388,Armenian_KHE:1341,Armenian_khe:1389,Armenian_TSA:1342,Armenian_tsa:1390,Armenian_KEN:1343,Armenian_ken:1391,Armenian_HO:1344,Armenian_ho:1392,Armenian_DZA:1345,Armenian_dza:1393,Armenian_GHAT:1346,Armenian_ghat:1394,Armenian_TCHE:1347,Armenian_tche:1395,Armenian_MEN:1348,Armenian_men:1396,Armenian_HI:1349,Armenian_hi:1397,Armenian_NU:1350,Armenian_nu:1398,Armenian_SHA:1351,Armenian_sha:1399,Armenian_VO:1352,Armenian_vo:1400,Armenian_CHA:1353,Armenian_cha:1401,Armenian_PE:1354,Armenian_pe:1402,Armenian_JE:1355,Armenian_je:1403,Armenian_RA:1356,Armenian_ra:1404,Armenian_SE:1357,Armenian_se:1405,Armenian_VEV:1358,Armenian_vev:1406,Armenian_TYUN:1359,Armenian_tyun:1407,Armenian_RE:1360,Armenian_re:1408,Armenian_TSO:1361,Armenian_tso:1409,Armenian_VYUN:1362,Armenian_vyun:1410,Armenian_PYUR:1363,Armenian_pyur:1411,Armenian_KE:1364,Armenian_ke:1412,Armenian_O:1365,Armenian_o:1413,Armenian_FE:1366,Armenian_fe:1414,Armenian_apostrophe:1370,Georgian_an:4304,Georgian_ban:4305,Georgian_gan:4306,Georgian_don:4307,Georgian_en:4308,Georgian_vin:4309,Georgian_zen:4310,Georgian_tan:4311,Georgian_in:4312,Georgian_kan:4313,Georgian_las:4314,Georgian_man:4315,Georgian_nar:4316,Georgian_on:4317,Georgian_par:4318,Georgian_zhar:4319,Georgian_rae:4320,Georgian_san:4321,Georgian_tar:4322,Georgian_un:4323,Georgian_phar:4324,Georgian_khar:4325,Georgian_ghan:4326,Georgian_qar:4327,Georgian_shin:4328,Georgian_chin:4329,Georgian_can:4330,Georgian_jil:4331,Georgian_cil:4332,Georgian_char:4333,Georgian_xan:4334,Georgian_jhan:4335,Georgian_hae:4336,Georgian_he:4337,Georgian_hie:4338,Georgian_we:4339,Georgian_har:4340,Georgian_hoe:4341,Georgian_fi:4342,Xabovedot:7818,Ibreve:300,Zstroke:437,Gcaron:486,Ocaron:466,Obarred:415,xabovedot:7819,ibreve:301,zstroke:438,gcaron:487,ocaron:466,obarred:629,SCHWA:399,schwa:601,EZH:439,ezh:658,Lbelowdot:7734,lbelowdot:7735,Abelowdot:7840,abelowdot:7841,Ahook:7842,ahook:7843,Acircumflexacute:7844,acircumflexacute:7845,Acircumflexgrave:7846,acircumflexgrave:7847,Acircumflexhook:7848,acircumflexhook:7849,Acircumflextilde:7850,acircumflextilde:7851,Acircumflexbelowdot:7852,acircumflexbelowdot:7853,Abreveacute:7854,abreveacute:7855,Abrevegrave:7856,abrevegrave:7857,Abrevehook:7858,abrevehook:7859,Abrevetilde:7860,abrevetilde:7861,Abrevebelowdot:7862,abrevebelowdot:7863,Ebelowdot:7864,ebelowdot:7865,Ehook:7866,ehook:7867,Etilde:7868,etilde:7869,Ecircumflexacute:7870,ecircumflexacute:7871,Ecircumflexgrave:7872,ecircumflexgrave:7873,Ecircumflexhook:7874,ecircumflexhook:7875,Ecircumflextilde:7876,ecircumflextilde:7877,Ecircumflexbelowdot:7878,ecircumflexbelowdot:7879,Ihook:7880,ihook:7881,Ibelowdot:7882,ibelowdot:7883,Obelowdot:7884,obelowdot:7885,Ohook:7886,ohook:7887,Ocircumflexacute:7888,ocircumflexacute:7889,Ocircumflexgrave:7890,ocircumflexgrave:7891,Ocircumflexhook:7892,ocircumflexhook:7893,Ocircumflextilde:7894,ocircumflextilde:7895,Ocircumflexbelowdot:7896,ocircumflexbelowdot:7897,Ohornacute:7898,ohornacute:7899,Ohorngrave:7900,ohorngrave:7901,Ohornhook:7902,ohornhook:7903,Ohorntilde:7904,ohorntilde:7905,Ohornbelowdot:7906,ohornbelowdot:7907,Ubelowdot:7908,ubelowdot:7909,Uhook:7910,uhook:7911,Uhornacute:7912,uhornacute:7913,Uhorngrave:7914,uhorngrave:7915,Uhornhook:7916,uhornhook:7917,Uhorntilde:7918,uhorntilde:7919,Uhornbelowdot:7920,uhornbelowdot:7921,Ybelowdot:7924,ybelowdot:7925,Yhook:7926,yhook:7927,Ytilde:7928,ytilde:7929,Ohorn:416,ohorn:417,Uhorn:431,uhorn:432,EcuSign:8352,ColonSign:8353,CruzeiroSign:8354,FFrancSign:8355,LiraSign:8356,MillSign:8357,NairaSign:8358,PesetaSign:8359,RupeeSign:8360,WonSign:8361,NewSheqelSign:8362,DongSign:8363,EuroSign:8364,zerosuperior:8304,foursuperior:8308,fivesuperior:8309,sixsuperior:8310,sevensuperior:8311,eightsuperior:8312,ninesuperior:8313,zerosubscript:8320,onesubscript:8321,twosubscript:8322,threesubscript:8323,foursubscript:8324,fivesubscript:8325,sixsubscript:8326,sevensubscript:8327,eightsubscript:8328,ninesubscript:8329,partdifferential:8706,emptyset:8709,elementof:8712,notelementof:8713,containsas:8715,squareroot:8730,cuberoot:8731,fourthroot:8732,dintegral:8748,tintegral:8749,because:8757,approxeq:8773,notapproxeq:8775,notidentical:8802,stricteq:8803,braille_blank:10240,braille_dots_1:10241,braille_dots_2:10242,braille_dots_12:10243,braille_dots_3:10244,braille_dots_13:10245,braille_dots_23:10246,braille_dots_123:10247,braille_dots_4:10248,braille_dots_14:10249,braille_dots_24:10250,braille_dots_124:10251,braille_dots_34:10252,braille_dots_134:10253,braille_dots_234:10254,braille_dots_1234:10255,braille_dots_5:10256,braille_dots_15:10257,braille_dots_25:10258,braille_dots_125:10259,braille_dots_35:10260,braille_dots_135:10261,braille_dots_235:10262,braille_dots_1235:10263,braille_dots_45:10264,braille_dots_145:10265,braille_dots_245:10266,braille_dots_1245:10267,braille_dots_345:10268,braille_dots_1345:10269,braille_dots_2345:10270,braille_dots_12345:10271,braille_dots_6:10272,braille_dots_16:10273,braille_dots_26:10274,braille_dots_126:10275,braille_dots_36:10276,braille_dots_136:10277,braille_dots_236:10278,braille_dots_1236:10279,braille_dots_46:10280,braille_dots_146:10281,braille_dots_246:10282,braille_dots_1246:10283,braille_dots_346:10284,braille_dots_1346:10285,braille_dots_2346:10286,braille_dots_12346:10287,braille_dots_56:10288,braille_dots_156:10289,braille_dots_256:10290,braille_dots_1256:10291,braille_dots_356:10292,braille_dots_1356:10293,braille_dots_2356:10294,braille_dots_12356:10295,braille_dots_456:10296,braille_dots_1456:10297,braille_dots_2456:10298,braille_dots_12456:10299,braille_dots_3456:10300,braille_dots_13456:10301,braille_dots_23456:10302,braille_dots_123456:10303,braille_dots_7:10304,braille_dots_17:10305,braille_dots_27:10306,braille_dots_127:10307,braille_dots_37:10308,braille_dots_137:10309,braille_dots_237:10310,braille_dots_1237:10311,braille_dots_47:10312,braille_dots_147:10313,braille_dots_247:10314,braille_dots_1247:10315,braille_dots_347:10316,braille_dots_1347:10317,braille_dots_2347:10318,braille_dots_12347:10319,braille_dots_57:10320,braille_dots_157:10321,braille_dots_257:10322,braille_dots_1257:10323,braille_dots_357:10324,braille_dots_1357:10325,braille_dots_2357:10326,braille_dots_12357:10327,braille_dots_457:10328,braille_dots_1457:10329,braille_dots_2457:10330,braille_dots_12457:10331,braille_dots_3457:10332,braille_dots_13457:10333,braille_dots_23457:10334,braille_dots_123457:10335,braille_dots_67:10336,braille_dots_167:10337,braille_dots_267:10338,braille_dots_1267:10339,braille_dots_367:10340,braille_dots_1367:10341,braille_dots_2367:10342,braille_dots_12367:10343,braille_dots_467:10344,braille_dots_1467:10345,braille_dots_2467:10346,braille_dots_12467:10347,braille_dots_3467:10348,braille_dots_13467:10349,braille_dots_23467:10350,braille_dots_123467:10351,braille_dots_567:10352,braille_dots_1567:10353,braille_dots_2567:10354,braille_dots_12567:10355,braille_dots_3567:10356,braille_dots_13567:10357,braille_dots_23567:10358,braille_dots_123567:10359,braille_dots_4567:10360,braille_dots_14567:10361,braille_dots_24567:10362,braille_dots_124567:10363,braille_dots_34567:10364,braille_dots_134567:10365,braille_dots_234567:10366,braille_dots_1234567:10367,braille_dots_8:10368,braille_dots_18:10369,braille_dots_28:10370,braille_dots_128:10371,braille_dots_38:10372,braille_dots_138:10373,braille_dots_238:10374,braille_dots_1238:10375,braille_dots_48:10376,braille_dots_148:10377,braille_dots_248:10378,braille_dots_1248:10379,braille_dots_348:10380,braille_dots_1348:10381,braille_dots_2348:10382,braille_dots_12348:10383,braille_dots_58:10384,braille_dots_158:10385,braille_dots_258:10386,braille_dots_1258:10387,braille_dots_358:10388,braille_dots_1358:10389,braille_dots_2358:10390,braille_dots_12358:10391,braille_dots_458:10392,braille_dots_1458:10393,braille_dots_2458:10394,braille_dots_12458:10395,braille_dots_3458:10396,braille_dots_13458:10397,braille_dots_23458:10398,braille_dots_123458:10399,braille_dots_68:10400,braille_dots_168:10401,braille_dots_268:10402,braille_dots_1268:10403,braille_dots_368:10404,braille_dots_1368:10405,braille_dots_2368:10406,braille_dots_12368:10407,braille_dots_468:10408,braille_dots_1468:10409,braille_dots_2468:10410,braille_dots_12468:10411,braille_dots_3468:10412,braille_dots_13468:10413,braille_dots_23468:10414,braille_dots_123468:10415,braille_dots_568:10416,braille_dots_1568:10417,braille_dots_2568:10418,braille_dots_12568:10419,braille_dots_3568:10420,braille_dots_13568:10421,braille_dots_23568:10422,braille_dots_123568:10423,braille_dots_4568:10424,braille_dots_14568:10425,braille_dots_24568:10426,braille_dots_124568:10427,braille_dots_34568:10428,braille_dots_134568:10429,braille_dots_234568:10430,braille_dots_1234568:10431,braille_dots_78:10432,braille_dots_178:10433,braille_dots_278:10434,braille_dots_1278:10435,braille_dots_378:10436,braille_dots_1378:10437,braille_dots_2378:10438,braille_dots_12378:10439,braille_dots_478:10440,braille_dots_1478:10441,braille_dots_2478:10442,braille_dots_12478:10443,braille_dots_3478:10444,braille_dots_13478:10445,braille_dots_23478:10446,braille_dots_123478:10447,braille_dots_578:10448,braille_dots_1578:10449,braille_dots_2578:10450,braille_dots_12578:10451,braille_dots_3578:10452,braille_dots_13578:10453,braille_dots_23578:10454,braille_dots_123578:10455,braille_dots_4578:10456,braille_dots_14578:10457,braille_dots_24578:10458,braille_dots_124578:10459,braille_dots_34578:10460,braille_dots_134578:10461,braille_dots_234578:10462,braille_dots_1234578:10463,braille_dots_678:10464,braille_dots_1678:10465,braille_dots_2678:10466,braille_dots_12678:10467,braille_dots_3678:10468,braille_dots_13678:10469,braille_dots_23678:10470,braille_dots_123678:10471,braille_dots_4678:10472,braille_dots_14678:10473,braille_dots_24678:10474,braille_dots_124678:10475,braille_dots_34678:10476,braille_dots_134678:10477,braille_dots_234678:10478,braille_dots_1234678:10479,braille_dots_5678:10480,braille_dots_15678:10481,braille_dots_25678:10482,braille_dots_125678:10483,braille_dots_35678:10484,braille_dots_135678:10485,braille_dots_235678:10486,braille_dots_1235678:10487,braille_dots_45678:10488,braille_dots_145678:10489,braille_dots_245678:10490,braille_dots_1245678:10491,braille_dots_345678:10492,braille_dots_1345678:10493,braille_dots_2345678:10494,braille_dots_12345678:10495,Sinh_ng:3458,Sinh_h2:3459,Sinh_a:3461,Sinh_aa:3462,Sinh_ae:3463,Sinh_aee:3464,Sinh_i:3465,Sinh_ii:3466,Sinh_u:3467,Sinh_uu:3468,Sinh_ri:3469,Sinh_rii:3470,Sinh_lu:3471,Sinh_luu:3472,Sinh_e:3473,Sinh_ee:3474,Sinh_ai:3475,Sinh_o:3476,Sinh_oo:3477,Sinh_au:3478,Sinh_ka:3482,Sinh_kha:3483,Sinh_ga:3484,Sinh_gha:3485,Sinh_ng2:3486,Sinh_nga:3487,Sinh_ca:3488,Sinh_cha:3489,Sinh_ja:3490,Sinh_jha:3491,Sinh_nya:3492,Sinh_jnya:3493,Sinh_nja:3494,Sinh_tta:3495,Sinh_ttha:3496,Sinh_dda:3497,Sinh_ddha:3498,Sinh_nna:3499,Sinh_ndda:3500,Sinh_tha:3501,Sinh_thha:3502,Sinh_dha:3503,Sinh_dhha:3504,Sinh_na:3505,Sinh_ndha:3507,Sinh_pa:3508,Sinh_pha:3509,Sinh_ba:3510,Sinh_bha:3511,Sinh_ma:3512,Sinh_mba:3513,Sinh_ya:3514,Sinh_ra:3515,Sinh_la:3517,Sinh_va:3520,Sinh_sha:3521,Sinh_ssha:3522,Sinh_sa:3523,Sinh_ha:3524,Sinh_lla:3525,Sinh_fa:3526,Sinh_al:3530,Sinh_aa2:3535,Sinh_ae2:3536,Sinh_aee2:3537,Sinh_i2:3538,Sinh_ii2:3539,Sinh_u2:3540,Sinh_uu2:3542,Sinh_ru2:3544,Sinh_e2:3545,Sinh_ee2:3546,Sinh_ai2:3547,Sinh_o2:3548,Sinh_oo2:3549,Sinh_au2:3550,Sinh_lu2:3551,Sinh_ruu2:3570,Sinh_luu2:3571,Sinh_kunddaliya:3572},T=Object.keys(U).reduce(function(t,e){return Object.assign({},t,n()({},String.fromCharCode(U[e]),e))},{}),E={"aac+mpeg4":'audio/mp4; codecs="mp4a.40.2"',mp3:"audio/mpeg","mp3+mpeg4":'audio/mp4; codecs="mp3"',ogg:"audio/ogg",wav:"audio/wav",flac:"audio/flac","opus+mka":'audio/webm; codecs="opus"',"vorbis+mka":'audio/webm; codecs="vorbis"',"vorbis+ogg":'audio/ogg; codecs="vorbis"',"speex+ogg":'audio/ogg; codecs="speex"',"flac+ogg":'audio/ogg; codecs="flac"',"opus+ogg":'audio/ogg; codecs="opus"'},M=["opus+mka","vorbis+mka","opus+ogg","vorbis+ogg","opus","vorbis","speex+ogg","flac+ogg","aac+mpeg4","mp3+mpeg4","mp3","flac","wav","wave"],R={wav:"lpcm",mp3:"mp3",flac:"flac","aac+mpeg4":"mp4a"},G=r(67),z=r.n(G),B=function(t){return t.charCodeAt(0)},F=function(){return performance?Math.round(performance.now()):Date.now()},L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10400,r="";if(t.subarray)for(var i=0,n=t.length;i<n;i+=e)r+=String.fromCharCode.apply(null,t.subarray(i,Math.min(i+e,n)));else for(var a=0,o=t.length;a<o;a+=e)r+=String.fromCharCode.apply(null,t.slice(a,Math.min(a+e,o)));return window.btoa(r)},D=function(t){var e=t.subarray(0,4),r=e[0]|e[1]<<8|e[2]<<16|e[3]<<24,i=new Uint8Array(r);return{uncompressedSize:z.a.decodeBlock(t,i,4),inflated:i}},j=function(t){for(var e=new Uint8Array(t.length),r=0,i=t.length;r<i;++r)e[r]=t.charCodeAt(r);return e},H=function(){for(var t=[],e=0;e<36;e++)t[e]=8===e||13===e||18===e||23===e?"-":"0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t.join("")},N=function(t,e,r){var i=Math.round(25.4*t/r),n=Math.round(25.4*e/r);return[["HTML",t,e,i,n,[["Canvas",0,0,t,e,i,n]],0,0,t,e]]},W=function(t,e,r){if(t.startsWith("hmac")){var i="md5";t.indexOf("+")>0&&(i=t.split("+")[1]);var n=_.a.hmac.create();return n.start(i,e),n.update(r),n.digest().toHex()}return"xor"===t?function(t,e){var r="";if(t.length!==e.length)throw new Error("strings must be equal length");for(var i=0;i<t.length;i++)r+=String.fromCharCode(t[i].charCodeAt(0)^e[i].charCodeAt(0));return r}(r.slice(0,e.length),e):null},q={Win:{type:"win32",name:"Microsoft Windows"},Mac:{type:"darwin",name:"Mac OSX"},Linux:{type:"linux",name:"Linux"},X11:{type:"posix",name:"Posix"}},K=function(t,e){var r=["hmac","hmac+md5","xor"].concat(l()(Object.keys(_.a.md.algorithms).map(function(t){return"hmac+".concat(t)}))),i=["jpeg","png","rgb","rgb32"];(function(){try{var t=document.createElement("canvas");if(t.getContext("2d"))return 0==t.toDataURL("image/webp").indexOf("data:image/webp")}catch(t){console.warn(t)}return!1})()&&i.push("webp");var n=t.image_codecs.length>0?t.image_codecs:i;return{digest:r,"salt-digest":r,"generic-rgb-encodings":!0,"sound.decoders":t.audio_codecs.length>0?t.audio_codecs:e,encodings:n,"encoding.generic":!0,"encoding.rgb24zlib":!0,"encoding.rgb_zlib":!0,"encoding.icons.max_size":[30,30],"encodings.core":n,"encodings.rgb_formats":["RGBX","RGBA"],"encodings.window-icon":["png"],"encodings.cursor":["png"],"encoding.flush":!0,"encoding.transparency":!0,"encoding.client_options":!0,"encoding.csc_atoms":!0,"encoding.scrolling":!0,"encoding.color-gamut":function(){var t,e={rec2020:"(color-gamut: rec2020)",P3:"(color-gamut: p3)",srgb:"(color-gamut: srgb)"};return"function"==typeof window.matchMedia&&(t=Object.keys(e).find(function(t){return window.matchMedia(e[t]).matches})),t||""}(),"encoding.video_scaling":!0,"encoding.video_max_size":[1024,768],"encoding.eos":!0,"encoding.full_csc_modes":{mpeg1:["YUV420P"],h264:["YUV420P"],"mpeg4+mp4":["YUV420P"],"h264+mp4":["YUV420P"],"vp8+webm":["YUV420P"],webp:["BGRX","BGRA"]},"encoding.h264.YUV420P.profile":"baseline","encoding.h264.YUV420P.level":"2.1","encoding.h264.cabac":!1,"encoding.h264.deblocking-filter":!1,"encoding.h264.fast-decode":!0,"encoding.h264+mp4.YUV420P.profile":"main","encoding.h264+mp4.YUV420P.level":"3.0","encoding.h264.score-delta":-20,"encoding.h264+mp4.score-delta":50,"encoding.mpeg4+mp4.score-delta":50,"encoding.vp8+webm.score-delta":50}},Y=function(t){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=["language","browserLanguage","systemLanguage","userLanguage"].map(function(t){return navigator[t]}).filter(function(t){return!!t});return(navigator.languages||[e||t]).map(function(t){return t.split(/-|_/)[0]})[0]}(),r=Object.keys(x).reduce(function(t,e){return l()(t).concat([[parseInt(e,10),x[e],parseInt(e,10),0,0]])},[]);return{share:t.share,steal:t.steal,windows:!0,"file-transfer":t.transfer,printing:t.printing,"file-size-limit":10,auto_refresh_delay:500,randr_notify:!0,raw_window_icons:!0,cursors:!0,bell:t.bell,system_tray:!0,"server-window-resize":!0,named_cursors:!1,"notify-startup-complete":!0,"window.raise":!0,"window.initiate-moveresize":!0,"metadata.supported":["fullscreen","maximized","above","below","title","size-hints","class-instance","transient-for","window-type","has-alpha","decorations","override-redirect","tray","modal","opacity"],"sound.receive":t.sound,"sound.send":!1,"sound.server_driven":!0,"sound.bundle-metadata":!0,keyboard:t.keyboard,xkbmap_layout:t.language||e,xkbmap_keycodes:r,xkbmap_print:"",xkbmap_query:"",desktop_size:t.screen,desktop_mode_size:t.screen,screen_sizes:N(t.screen[0],t.screen[1],t.dpi),dpi:t.dpi,clipboard_enabled:t.clipboard,"clipboard.want_targets":!0,"clipboard.greedy":!0,"clipboard.selections":["CLIPBOARD","PRIMARY"],notifications:t.notifications,"notifications.close":!0,"notifications.actions":!0}},X=function(t,e){var r=function(){var t=navigator,e=t.appVersion,r=t.oscpu,i=t.cpuClass,n=Object.keys(q).find(function(t){return e.includes(t)});return Object.assign({type:"unknown",name:"unknown",processor:r||i||"unknown",platform:e},n?q[n]:{})}(),i={name:"Chrome",agent:navigator.userAgent},n=Y(t),a=K(t,e);return Object.assign({version:"2.4",platform:r.type,"platform.name":r.name,"patform.processor":r.processor,"platform.platform":r.platform,"session-type":i.name,"session-type.full":i.agent,namespace:!0,client_type:"HTML5",username:t.username,uuid:t.uuid,argv:[window.location.href],zlib:t.zlib,lzi:!1,lz4:t.lz4,"lz4.js.version":"0.2.0","encoding.rgb_lz4":!0,compression_level:t.compression_level,rencode:!1,bencode:!0,yaml:!1,"open-url":!0},n,a,{})},V=r(26),J=r.n(V),Z=function(t,e){return function(r){var i,n=r.w,a=r.h,s=r.coding,l=r.options,c=Object.assign({},r,{w:l.scaled_size?l.scaled_size[0]:n,h:l.scaled_size?l.scaled_size[1]:a});-1!==["jpeg","png","webp"].indexOf(s)?i=function(t){var e=t.x,r=t.y,i=(t.w,t.h,t.coding),n=t.data;return function(t,a){var o=t.drawContext,s=L(n),l=new Image;l.onload=function(t){0===l.width||0===l.height?a("Invalid image size"):(o.drawImage(l,e,r),a())},l.onerror=function(t){return a("Image failed to load: "+i)},l.src="data:image/".concat(i,";base64,").concat(s)}}(c):"rgb32"===s?i=function(t){var e=t.x,r=t.y,i=t.w,n=t.h,a=t.data,o=t.options;return function(t,s){var l=t.drawContext,c=l.createImageData(i,n);if(o.zlib>0)a=J.a.inflateSync(a);else if(o.lz4>0){var u=D(a),h=u.uncompressedSize,f=u.inflated;a=f.slice(0,h)}a.length>c.data.length?s("Data size mismatch"):(c.data.set(a),l.putImageData(c,e,r),s())}}(c):"mpeg1"===s?console.warn("Skippet frame using",s):"h264"===s?console.warn("Skippet frame using",s):-1!==["h264+mp4","vp8+webm","mpeg4+mp4"].indexOf(s)?console.warn("Skippet frame using",s):"scroll"===s&&(i=function(t){t.x,t.y,t.w,t.h;var e=t.data;return function(t,r){for(var i=t.drawContext,n=t.canvas,a=0,s=e.length;a<s;++a){var l=o()(e[a],6),c=l[0],u=l[1],h=l[2],f=l[3],d=l[4],p=l[5];i.drawImage(n,c,u,h,f,c+d,u+p,h,f)}r()}}(c)),i&&i(t,e)}},$={altKey:"alt",ctrlKey:"control",metaKey:"meta",shiftKey:"shift"},Q=function(t){return Object.keys($).filter(function(e){return t[e]}).map(function(t){return $[t]})},tt=function(t){var e=!1,r=!1,i=function(t){return function(t,e,r){var i=Q(event);return e&&i.push("lock"),r&&i.push("numlock"),function(t){return t}(i)}(0,e,r)};return{modifiers:i,process:function(n,a){var o=a?a.wid:0,s=(Q(n),i()),l=s.includes("shift");if("keydown"===n.type||"keyup"===n.type){var c=n.which||event.keyCode;if(229===c)return!1;var u="keydown"===n.type;144===c&&u&&(r=!r);var h=event.key||String.fromCharCode(c),f=n.code||"";return f!=h&&h in O?r="0123456789.".includes(f=O[h]):f in P?f=P[f]:h in T?f=T[h]:c in x&&(f=x[c]),f.match("_L$")&&2===n.location&&(f=f.replace("_L","_R")),("AltGraph"==h||"Alt_R"===f&&C)&&(u,f="ISO_Level3_Shift",h="AltGraph"),(e&&l||!e&&!l)&&(h=h.toLowerCase()),t("key-action",o,f,u,s,c,h,c,0),!0}return"keypress"===n.type&&(e=function(t,e){var r=t.which||t.keyCode;return!!(r>=97&&r<=122&&e)||r>=65&&r<=90&&!e}(n,l),!0)}}},et=function(){var t=document.createElement("div");return["wheel","mousewheel","DOMMouseScroll"].find(function(e){var r="on".concat(e);return t.setAttribute(r,"return;"),"function"==typeof t[r]})}(),rt=function(){var t=0,e=0;return function(r,i,n){var a=function(t){var e=0,r=0,i=0,n=0;return"detail"in t&&(r=t.detail),"wheelDelta"in t&&(r=-t.wheelDelta/120),"wheelDeltaY"in t&&(r=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=r,r=0),i=10*e,n=10*r,"deltaY"in t&&(n=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||n)&&t.deltaMode&&(1==t.deltaMode?(i*=40,n*=40):(i*=800,n*=800)),i&&!e&&(e=i<1?-1:1),n&&!r&&(r=n<1?-1:1),{spinX:e,spinY:r,pixelX:i,pixelY:n,deltaMode:t.deltaMode||0}}(r),o=Math.min(1200,a.pixelX),s=Math.min(1200,a.pixelY),l=Math.abs(o),c=Math.abs(s);l>=40&&l<=160?t=o>0?120:-120:t+=o,c>=40&&c<=160?e=s>0?120:-120:e+=s;for(var u=Math.abs(t),h=Math.abs(e),f=t>=0?6:7,d=e>=0?5:4;u>=120;)u-=120,i(f);for(;h>=120;)h-=120,i(d);t=t>=0?u:-u,e=e>=0?h:-h}}(),it=function(t,e){var r=0,i=0;if(e){var n=e.canvas.getBoundingClientRect(),a=n.top;r=n.left-e.x,i=a-e.y}return{x:parseInt(t.clientX-r,10),y:parseInt(t.clientY-i,10),button:function(t){var e=t.which?Math.max(0,t.which):t.button?Math.max(0,t.button)+1:0;return 4===e?e=8:5===e&&(e=9),e}(t),buttons:[]}},nt=function(t,e){return{process:function(r,i){var n=i?i.wid:0,a=e.modifiers(r);if("mousemove"===r.type){var o=it(r,i),s=o.x,l=o.y,c=o.buttons;t("pointer-position",n,[s,l],a,c)}else if("mousedown"===r.type||"mouseup"===r.type){var u="mousedown"===r.type,h=it(r,i),f=h.x,d=h.y,p=h.button,m=h.buttons;t("button-action",n,p,u,[f,d],a,m)}else if(r.type===et){var _=it(r,i),b=function(e,r,i,n,a){return function(o){t("button-action",e,o,!0,[r,i],n,a),t("button-action",e,o,!1,[r,i],n,a)}}(n,_.x,_.y,a,_.buttons);rt(r,b,b,void 0)}}}},at=r(27),ot=r.n(at),st=window.MediaSource||window.WebKitMediaSource,lt=function(t){var e={}.hasOwnProperty,r=new(function(r){function i(){}return function(t,r){for(var i in r)e.call(r,i)&&(t[i]=r[i]);function n(){this.constructor=t}n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype}(i,t.EventEmitter),i.prototype.start=function(){return!0},i.prototype.pause=function(){return!0},i.prototype.reset=function(){return!0},i.prototype._on_data=function(e){var r=new t.Buffer(e);return this.emit("data",r)},i}()),i=new t.Asset(r);return new t.Player(i)},ct=window.MediaSource||window.WebKitMediaSource,ut={stream:function(t){var e=document.createElement("audio");e.setAttribute("autoplay",!0),e.setAttribute("controls",!1),e.setAttribute("loop",!0);return{start:function(t){var r=function(t){return t.uri.replace(/^ws/,"http").replace(/\/?$/,"/")+"audio.mp3?uuid=".concat(t.uuid)}(t);e.src=r,e.play()},stop:function(){e.pause()},ready:function(){return!0}}},mediasource:function(t,e,r){var i=!1,n=null,a=new st;a.addEventListener("error",function(t){console.warn("Media failed",t),r()}),a.addEventListener("sourceopen",function(){if(!i){try{(n=a.addSourceBuffer(t.codecMedia)).mode="sequence",n.addEventListener("error",function(t){console.warn("Buffer failed",t),r()})}catch(t){console.warn("Buffer exception",t),r()}i=!0,e()}});var o=window.URL.createObjectURL(a),s=document.createElement("audio");s.setAttribute("autoplay",!0),s.setAttribute("controls",!1),s.setAttribute("loop",!0),s.src=o;return{start:function(){},stop:function(){s.pause(),n&&a.removeSourceBuffer(n),"open"===a.readyState&&a.endOfStream(),n=null},push:function(t){n&&(n.appendBuffer(t),s.paused&&s.play())},ready:function(){return n&&!n.updating}}},aurora:function(t,e,r){var i=lt(ot.a);return{start:function(){e(),i.play()},stop:function(){i.stop()},push:function(t){return i.asset.source._on_data(t)},ready:function(){return!!i}}}},ht=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=function(){var t=[];return k||A?(t+=["opus+mka","vorbis+mka"],A&&(t+=["wav"])):S&&(t=["aac+mpeg4"],I&&(t+=["opus+mka"])),t}();return{mediasource:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return y||!ct?{}:Object.keys(E).filter(function(e){return-1===t.indexOf(e)}).filter(function(t){return ct.isTypeSupported(E[t])}).reduce(function(t,e){return Object.assign(n()({},e,E[e]),t)},{})}(l()(t).concat(l()(e))),aurora:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return y?{}:Object.keys(R).filter(function(e){return-1===t.indexOf(e)}).filter(function(t){return ot.a.Decoder.find(R[t])}).reduce(function(t,e){return Object.assign(n()({},e,R[e]),t)},{})}(l()(t)),stream:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return["mp3"].filter(function(e){return-1===t.indexOf(e)}).reduce(function(t,e){return Object.assign(n()({},e,E[e]),t)},{})}(l()(t))}},ft=function(t,e,r){var i=r["sound.encoders"],n=t;n||(n=y?-1!==e.frameworks.mediasource.indexOf(o)?"mediasource":"stream":"aurora");var a=e.force.length>0?e.force:Object.keys(e.frameworks[n]),o=function(t,e){if(!t.length)return null;var r=M.filter(function(t){return-1!==e.indexOf(t)}).find(function(e){return t.includes(e)}),i=t.find(function(t){return-1!==e.indexOf(t)});return r||i}(a,i);return{codec:o,codecMedia:E[o],codecs:a,framework:n}},dt=function(t){var e,r=!1,i=[],n=0,a=3,o=function(t){if(console.debug("---","Stopping audio stream",t),e)try{e.stop()}catch(e){console.warn(e),t=!0}r=!0===t},s=function(){console.debug("---","Starting audio stream"),i=[],n=0,e&&e.start()},l=function(t,r,s){if(e){if(i.legngth>=250)return console.warn("Audio overflow"),void o();if(s){for(var l=0;l<s.length;l++)i.push(j(s[l]));a=1}r&&i.push(r),e.ready()&&(n>0||i.length>=a)&&(r=1===i.length?i[0]:function(t){for(var e=0,r=0,i=t.length;r<i;++r)e+=t[r].length;var n=new Uint8Array(e);e=0;for(var a=0,o=t.length;a<o;++a){var s=t[a];s.length>0&&(n.set(s,e),e+=s.length)}return n}(i),n+=1,i=[],e.push(r))}};return Object.freeze({process:function(t,e,i,n){if(!r)if(i["start-of-stream"])s();else if(e)try{l(0,e,n)}catch(t){console.warn("Audio stream aborted",t),o(!0)}},start:function(r,i,n,a){var o=ft(r,i,a);console.info("init audio",o),o.framework&&(e=ut[o.framework](o,function(){return t("sound-control","start",o.codec)},function(){return t("sound-control","stop")})),s()},destroy:function(){return o()}})},pt=r(68),mt=r.n(pt);function _t(t){if(null===t||void 0===t)throw"invalid: cannot encode null";switch(wt(t)){case"string":return function(t){return t.length+":"+t}(t);case"number":return kt(t);case"list":return function(t){var e;for(var r in e="l",t)e+=_t(t[r]);return e+"e"}(t);case"dictionary":return function(t){var e;for(var r in e="d",t)e+=_t(r)+_t(t[r]);return e+"e"}(t);case"boolean":return kt(t?1:0);default:throw"invalid object type in source: "+wt(t)}}function bt(t){return t.substr||(t=function(t){for(var e="",r=t.slice,i=0,n=t.length;i<n;i+=10400)e+=r?String.fromCharCode.apply(null,t.slice(i,Math.min(i+10400,n))):String.fromCharCode.apply(null,t.subarray(i,Math.min(i+10400,n)));return e}(t)),vt(t)[0]}function vt(t){switch(t.charAt(0)){case"d":return function(t){var e,r,i={};for(;"e"!==t.charAt(0)&&t.length>0;){if(null===(e=gt(t)))return null;if(null===(r=vt(e[1])))return null;i[e[0]]=r[0],t=r[1]}if(t.length<=0)return null;return[i,t.substr(1)]}(t.substr(1));case"l":return function(t){var e,r=[];for(;"e"!==t.charAt(0)&&t.length>0;){if(null===(e=vt(t)))return null;r[r.length]=e[0],t=e[1]}if(t.length<=0)throw"unexpected end of buffer reading list";return[r,t.substr(1)]}(t.substr(1));case"i":return function(t){var e=t.split("e",1)[0];if(!yt(e))return null;return[parseInt(e,10),t.substr(e.length+1)]}(t.substr(1));default:return gt(t)}}function gt(t){var e=t.split(":",1)[0];if(yt(e)){var r=parseInt(e,10);return[t.substr(e.length+1,r),t.substr(e.length+1+r)]}return null}function yt(t){return!isNaN(t.toString())}function wt(t){var e=mt()(t);return"object"===e?void 0===t.length?"dictionary":"list":e}function kt(t){return"i"+t+"e"}var At=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i;null===e[1].match(/^(ping|pointer|button|cursor|draw|damage|sound-data)/)&&(i=console).debug.apply(i,e)},St=function(t){if("string"==typeof t){for(var e=new Uint8Array(t.length),r=0,i=t.length;r<i;++r)e[r]=t.charCodeAt(r);return e}return null},It=function(t){for(var e=t.length,r=t.split("").map(B),i=[B("P"),0,0,0],n=3;n>=0;n--)i.push(e>>8*n&255);return i.concat(l()(r))},Ct=function(t){var e=[],r=[],i=[],n=function(t,r,i){var n;if(e[0].length===i)n=e.shift();else{n=new Uint8Array(i);for(var a=0;a<i;){var o=e[0],s=i-a;o.length>s?(n.set(o.subarray(0,s),a),a+=s,e[0]=o.subarray(s)):(n.set(o,a),a+=o.length,e.shift())}}return function(t,e,r){if(0!==t){if(16&t){var i=D(r),n=i.inflated,a=i.uncompressedSize;return a<=0&&e+a!==0?(console.error("failed to decompress lz4 data, error code",a),null):n}return J.a.inflateSync(r)}return r}(t,i,n)},a=function(){if(!function(){if(r.length<8&&e.length>0)for(;r.length<8&&e.length>0;){for(var t=e[0],i=8-r.length,n=Math.min(i,t.length),a=0;a<n;a++)r.push(t[a]);if(t.length>i?e[0]=t.subarray(n):e.shift(),r[0]!==B("P"))return console.error("Invalid packet header format",r,B("P")),!1}return!(r.length<8)}())return!1;var a=function(t,e){var r={flags:t[1],padding:0,crypto:2&t[1]};if(0!==r.flags&&!r.crypto)return console.error("we can't handle this protocol flag yet",r),!1;var i=t[2];if(32&i)return console.error("lzo compression is not supported"),!1;var n=t[3];if(n>=20)return console.error("Invalid packet index",n),!1;for(var a=0,o=0;o<4;o++)a*=256,a+=t[4+o];for(var s=0,l=0,c=e.length;l<c;++l)s+=e[l].length;return!(s<a)&&{index:n,level:i,proto:r,packetSize:a}}(r,e);if(!1===a)return!1;r=[];var o=a.index,s=a.level,c=(a.proto,a.packetSize),u=n(s,0,c);if(o>0)i[o]=u;else try{var h=function(t,e){var r=bt(t);for(var i in e)r[i]=e[i];if("draw"===r[0]&&"scroll"!==r[6]){var n=St(r[7]);null!==n&&(r[7]=n)}return r}(u,i);At.apply(void 0,["<<<"].concat(l()(h))),t.apply(void 0,l()(h)),i=[]}catch(t){return console.error("error decoding packet",t),!1}return!0};return{clear:function(){e=[]},push:function(t){e.push(t),a()}}},xt=function(){var t=[];return{clear:function(){t=[]},push:function(e,r){t.push(e),function(e){for(;0!==t.length;){var r=t.shift();if(r&&e){At.apply(void 0,[">>>"].concat(l()(r)));var i=_t(r),n=It(i),a=new Uint8Array(n).buffer;e.send(a)}}}(r)}}},Pt=function(t){var e,r=Ct(function(){return t.emit.apply(t,arguments)}),i=xt();return t.on("ws:data",function(t,i){return r.push(i,e)}),{send:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.push(r,e)},close:function(){e&&e.close(),e=null},open:function(r){e=function(t,e){var r=new WebSocket(t,"binary");return r.binaryType="arraybuffer",r.onopen=function(t){return e.emit("ws:open",t)},r.onclose=function(t){return e.emit("ws:close",t)},r.onerror=function(t){return e.emit("ws:error",t)},r.onmessage=function(t){var r=new Uint8Array(t.data);e.emit("ws:data",t,r)},r}(r.uri,t)},flush:function(){i.clear(),r.clear()}}},Ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({uuid:H(),uri:"ws://localhost:10000",audio_framework:null,audio_codec_blacklist:[],audio_codecs:[],image_codecs:[],screen:[window.innerWidth,window.innerHeight],dpi:"deviceXDPI"in screen?(screen.systemXDPI+screen.systemYDPI)/2:96,compression_level:1,reconnect:!0,notifications:!0,clipboard:!1,sound:!0,bell:!0,printing:!1,transfer:!1,keyboard:!0,share:!0,steal:!0,language:null,username:"",password:"",zlib:!0,lz4:!0},t,e)},Ut=function(t,e,r,i,n,a,s,l,c){var u=!!t,h=document.createElement("canvas");h.width=n,h.height=a;var f=h.getContext("2d"),d=function(t,e){var r=t.wid,i=t.canvas,n=t.context,a=!0,s=[],l=document.createElement("canvas");l.width=i.width,l.height=i.height;var c=l.getContext("2d");c.imageSmoothingEnabled=!1;var u={canvas:i,context:n,drawCanvas:l,drawContext:c};return window.requestAnimationFrame(function t(){if(a)if(0===s.length)window.requestAnimationFrame(t);else{var i=s.shift(),c=o()(i,2),h=c[0],f=c[1],d=F()-h;d>1e3&&console.warn("A frame was very late....");var p=o()(f,9),m=p[0],_=p[1],b=p[2],v=p[3],g=p[4],y=p[5],w=p[6],k=p[7],A=p[8];A=A||{};var S=Object.freeze({x:m,y:_,w:b,h:v,coding:g,data:y,sequence:w,rowstride:k,options:A});Z(u,function(i,a){i?(console.warn(i),e("damage-sequence",w,r,b,v,-1,"")):e("damage-sequence",w,r,b,v,d,""),n.drawImage(l,0,0),window.requestAnimationFrame(t)})(S)}}),{push:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return s.push([F(),e])},stop:function(){return a=!1}}}({wid:e,canvas:h,context:f},c);return{wid:e,x:r,y:i,w:n,h:a,parent:t,overlay:u,canvas:h,context:f,metadata:s,properties:l,draw:function(){return d.push.apply(d,arguments)},updateMetadata:function(t){return Object.assign(s,t)},destroy:function(){return d.stop()}}},Tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({worker:"worker.js"},e);var r,i,n,a,o=new p("XpraClient"),s=function(t,e){if(window.Worker){var r=new Worker(e.worker);return r.onmessage=function(e){var r=e.data;"data"===r.event?t.emit.apply(t,l()(r.args)):t.emit.apply(t,[r.event].concat(l()(r.args)))},{send:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return r.postMessage({command:"send",packet:e})},close:function(){return r.postMessage({command:"close"})},open:function(t){return r.postMessage({command:"open",config:t})},flush:function(){return r.postMessage({command:"flush"})}}}return Pt(t)}(o,e),c=s.send,u=function(){return c("ping",F())},h=tt(c),f=nt(c,h),d=dt(c),m=!1,_=!1,b=[],v=0,g=0,y={reconnecting:function(){return!1},connecting:function(){return _},connected:function(){return m}},w=function(){return Object.keys(y).find(function(t){return!0===y[t]()})||"disconnected"},k=function(){return o.emit("ws:status",w())},A=function(t){return b.find(function(e){return e.wid===t})},S=function(t){A(t)?(v!==t&&c("focus",t,[]),v=t,o.emit("window:focus",{wid:t})):v=0},I=function(t){m=!1,_=!1,t||s.close(),k(),b=[],d.destroy(),s.flush()},C=function(t,e,r,i,n,a,o,s,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},u=A(t);u&&u.draw(e,r,i,n,a,o,s,l,c)},x=function(t,e){return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o;m&&n&&n["remote-logging.multi-line"]?c("logging",e,i.map(function(t){return unescape(encodeURIComponent(String(t)))})):(o=console)[t].apply(o,i)}},P=function(){var t;return function(e,i){clearTimeout(t),t=setTimeout(function(){var t=N(e,i,r.dpi);c("desktop_size",e,i,t)},100)}}(),O={error:x("error",40),warn:x("warn",30),log:x("log",20),info:x("info",20),debug:x("debug",10)};return o.on("ws:open",function(){a=function(t){var e=t.audio_codecs||[],r=ht(t.audio_codec_blacklist);return{frameworks:r,codecs:Object.values(r).reduce(function(t,e){return l()(t).concat(l()(Object.keys(e)))},[]),force:e}}(r),i=X(r,a.codecs),console.debug("!!!",{config:r,audioCodecs:a,clientCapabilities:i});var t=Object.assign({},i);(r.username||r.password)&&(t.challenge=!0),c("hello",t)}),o.on("ws:close",function(){return I(!0)}),o.on("disconnect",function(){return I(!0)}),o.on("hello",function(t){return n=t}),o.on("ping",function(t){return c("ping_echo",t,0,0,0,0)}),o.on("challenge",function(t,e,n,a){a=a||"xor",console.debug("--- challenge",{serverSalt:t,digest:n,saltDigest:a});try{var o=function(t,e){var r="xor"===t?e.length:32;if(r<16||r>256)throw new Error("Invalid salt length of",r);for(var i="";i.length<r;)i+=H();return i.slice(0,r)}(a,t),s=W(a,o,t);if(!s)throw new Error("Invalid challenge salt digest: "+a);var l=W(n,r.password,s);if(!l)throw new Error("Invalid challenge digest: "+n);var u={challenge_response:l,challenge_client_salt:o},h=Object.assign({},i,u);c("hello",h)}catch(t){console.error(t),I()}}),o.on("window-metadata",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=A(t);r&&(r.updateMetadata(e),o.emit("window:metadata",r))}),o.on("new-window",function(t,e,r,n,a,s,l){g=0;var u=Object.assign({},l||{},{"encodings.rgb_formats":i["encodings.rgb_formats"]});c("map-window",t,e,r,n,a,u),c("focus",[],t);var h=Ut(!1,t,e,r,n,a,s,l,c);b.push(h),o.emit("window:create",h),S(t)}),o.on("new-override-redirect",function(t,e,r,i,n,a,s){var l=a["transient-for"],u=!!l&&A(l);if(u){var h=Ut(u,t,e,r,i,n,a,s,c);o.emit("overlay:create",{parent:u,wid:t,x:e,y:r,canvas:h.canvas}),b.push(h),g=l,S(t)}}),o.on("lost-window",function(t){var e=A(t);if(e){e.overlay?o.emit("overlay:destroy",e):(v===t&&o.emit("window:blur",{wid:t}),o.emit("window:destroy",e)),e.destroy();var r=b.findIndex(function(e){return e.wid===t});b.splice(r,1)}v===t&&(v=g)}),o.on("window-icon",function(t,e,r,i,n){var a=function(t){var e=t.coding,r=t.data;return"png"===e?"data:image/".concat(e,";base64,")+L(r):"about:blank"}({coding:i,data:n});a&&o.emit("window:icon",{wid:t,src:a})}),o.on("startup-complete",function(){o.emit("system:started"),m=!0,_=!1,O.info("Xpra HTML5 Client connected"),k(),r.sound&&d.start(r.audio_framework,a,i,n)}),o.on("sound-data",function(t,e,r,i){d.process(t,e,r,i)}),o.on("notify_show",function(t,e,r,i,n,a,s,l,c){o.emit("notification:create",e,{busId:t,replacesId:r,summary:i,body:n,timeout:a,icon:s,actions:l,hints:c})}),o.on("notify_show",function(t){o.emit("notification:destroy",t)}),o.on("send-file",function(t,e,r,i,n){n.length===i?r?o.emit("system:print",{filename:t,mime:e,size:i},n):o.emit("system:upload",{filename:t,mime:e,size:i},n):console.warn("Invalid file",t,e,i)}),o.on("open-url",function(){return o.emit("system:url")}),o.on("bell",function(){return o.emit("system:bell")}),o.on("eos",C),o.on("draw",C),setInterval(function(){m&&u()},5e3),Object.freeze({console:O,connect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r=Ot(t,e),s&&I(),_=!0,k(),s.open(r)},disconnect:I,ping:u,send:c,inject:function(t,e){if(m){void 0===e&&(e=v);var r=A(e);h.process(t,r),f.process(t,r)}},status:function(){return w()},on:function(){return o.on.apply(o,arguments)},off:function(t,e){e&&o.off(t,e)},screen:{resize:P},surface:{focus:S,kill:function(t){A(t)&&c("close-window",t)}}})},Et=r(1),Mt=function(t){return null===t?localStorage.removeItem("XpraClient"):localStorage.setItem("XpraClient",JSON.stringify(t))},Rt=function(t){return function(e,r){return"disconnected"===e.status?function(t,e){var r=function(t,r){return e.setOption({name:t,value:r})},i=function(e,i,n){return Object(Et.b)("input",{type:e,placeholder:n,value:t.options[i]||"",oninput:function(t){return r(i,t.target.value)}})},n=function(e,i){return Object(Et.b)("label",{},[Object(Et.b)("input",{type:"checkbox",checked:t.options[e],onchange:function(i){return r(e,!t.options[e])}}),Object(Et.b)("span",{},i)])};return Object(Et.b)("div",{class:""},[Object(Et.b)("div",{class:"dialog"},[Object(Et.b)("div",{class:"dialog--header"},[Object(Et.b)("h1",{},"Xpra HTML5 Client")]),Object(Et.b)("div",{class:"dialog--content"},[Object(Et.b)("div",{class:"dialog--row"},[i("text","hostname","Hostname"),i("number","port","Port")]),Object(Et.b)("div",{class:"dialog--row"},[i("text","username","Username"),i("password","password","Password")]),Object(Et.b)("div",{class:"dialog--row"},[n("sound","Enable sound")]),Object(Et.b)("div",{class:"dialog--row"},[n("ssl","Enable SSL")])]),Object(Et.b)("div",{class:"dialog--footer"},[Object(Et.b)("button",{type:"button",onclick:function(){return e.connect()}},"Connect")])])])}(e,r):function(t){return function(e,r){var i=e.windows.map(function(e){var r={key:e.wid,class:"window",style:{top:"".concat(e.y,"px"),left:"".concat(e.x,"px")},onmousedown:function(){return t.surface.focus(e.wid)},onmousemove:function(){return t.surface.focus(e.wid)}},i=e.overlays.map(function(t){return Object(Et.b)("div",{class:"window--overlay",style:{top:"".concat(t.y-e.y,"px"),left:"".concat(t.x-e.x,"px")},oncreate:function(e){return e.appendChild(t.canvas)}})});return Object(Et.b)("div",r,[Object(Et.b)("div",{class:"window--top"},[Object(Et.b)("div",{class:"window--top--icon"},[Object(Et.b)("img",{src:e.icon||"logo.png"})]),Object(Et.b)("div",{class:"window--top--title"},[e.metadata.title||"(window)"]),Object(Et.b)("div",{class:"window--top--buttons"},[Object(Et.b)("div",{class:"window--top--buttons__close",onclick:function(){return t.surface.kill(e.wid)}},Object(Et.b)("i",{class:"fa fa-times-circle"}))])]),Object(Et.b)("div",{class:"window--content",style:{width:"".concat(e.w,"px"),height:"".concat(e.h,"px")}},[Object(Et.b)("div",{class:"window--canvas",oncreate:function(t){return t.appendChild(e.canvas)}})].concat(l()(i)))])});return Object(Et.b)("div",{class:"screen"},[Object(Et.b)("div",{class:"status"},[Object(Et.b)("span",{class:"status--text"},[Object(Et.b)("i",{class:"fa fa-"+("connected"===e.status?"link":"unlink")}),e.status]),Object(Et.b)("span",{class:"status--button",onclick:function(){return r.disconnect(!0)}},[Object(Et.b)("i",{class:"fa fa-unlink"}),"Disconnect"])])].concat(l()(i)))}}(t)(e,r)}};document.addEventListener("DOMContentLoaded",function(){var t=Tt({uri:"ws://localhost:10000"});!function(t){["keydown","keyup","keypress","mousemove","mousedown","mouseup","wheel","mousewheel","DOMMouseScroll"].forEach(function(e){return window.addEventListener(e,t.inject)}),window.addEventListener("resize",function(){return t.screen.resize(window.innerWidth,window.innerHeight)})}(t);var e=function(t){return Object(Et.a)({status:"disconnected",options:{hostname:"localhost",port:1e4,ssl:"https:"===window.location.protocol,sound:!0,username:"",password:""},windows:[]},{_updateWindow:function(t){var e=o()(t,2),r=e[0],i=e[1];return function(t){var e=t.windows.find(function(t){return t.wid===r});return e&&i(e),{windows:t.windows}}},connect:function(){return function(e){var r={uri:[e.options.ssl?"wss":"ws","://",e.options.hostname,":",e.options.port].join(""),sound:e.options.sound,username:e.options.username,password:e.options.password};Mt(r),t.connect(r)}},disconnect:function(e){return function(){t.disconnect(),!0===e&&Mt(null)}},setOption:function(t){var e=t.name,r=t.value;return function(t){return{options:Object.assign({},t.options,n()({},e,r))}}},setOptions:function(t){return function(e){return{options:Object.assign({},e.options,t)}}},setStatus:function(t){return function(){return{status:t}}},addWindow:function(t){return function(e){return{windows:l()(e.windows).concat([Object.assign({icon:null,overlays:[]},t)])}}},removeWindow:function(t){var e=t.wid;return function(t){var r=t.windows,i=r.findIndex(function(t){return t.wid===e});return-1!==i&&r.splice(i,1),{windows:r}}},updateWindowIcon:function(t){var e=t.wid,r=t.src;return function(t,i){return i._updateWindow([e,function(t){t.icon=r}])}},updateWindowMetadata:function(t){var e=t.wid,r=t.metadata;return function(t,i){return i._updateWindow([e,function(t){t.metadata=Object.assign({},t.metadata,r)}])}},addWindowOverlay:function(t){var e=t.wid,r=t.parent,i=t.canvas,n=t.x,a=t.y;return function(t,o){return o._updateWindow([r.wid,function(t){t.overlays.push({wid:e,canvas:i,x:n,y:a})}])}},removeWindowOverlay:function(t){var e=t.wid,r=t.parent;return function(t,i){return i._updateWindow([r.wid,function(t){var r=t.overlays.findIndex(function(t){return t.wid===e});-1!==r&&t.overlays.splice(r,1)}])}}},Rt(t),document.body)}(t);t.on("window:create",e.addWindow),t.on("window:destroy",e.removeWindow),t.on("window:icon",e.updateWindowIcon),t.on("window:metadata",e.updateWindowMetadata),t.on("overlay:create",e.addWindowOverlay),t.on("overlay:destroy",e.removeWindowOverlay),t.on("ws:status",e.setStatus);var r=JSON.parse(localStorage.getItem("XpraClient"));r&&(e.setOptions(r),e.connect())})},27:function(t,e,r){(function(e){var r;t.exports=function t(e,i,n){function a(s,l){if(!i[s]){if(!e[s]){var c="function"==typeof r&&r;if(!l&&c)return r(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var r=e[s][1][t];return a(r||t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof r&&r,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(t,e,r){(function(){var r,i,n,a,o,s,l,c=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty;o=t("./core/events"),l=t("./sources/node/http"),s=t("./sources/node/file"),i=t("./sources/buffer"),a=t("./demuxer"),n=t("./decoder"),r=function(t){function e(t){this.source=t,this._decode=c(this._decode,this),this.findDecoder=c(this.findDecoder,this),this.probe=c(this.probe,this),this.buffered=0,this.duration=null,this.format=null,this.metadata=null,this.active=!1,this.demuxer=null,this.decoder=null,this.source.once("data",this.probe),this.source.on("error",function(t){return function(e){return t.emit("error",e),t.stop()}}(this)),this.source.on("progress",function(t){return function(e){return t.buffered=e,t.emit("buffer",t.buffered)}}(this))}return function(t,e){for(var r in e)u.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.fromURL=function(t,r){return new e(new l(t,r))},e.fromFile=function(t){return new e(new s(t))},e.fromBuffer=function(t){return new e(new i(t))},e.prototype.start=function(t){if(!this.active)return null!=t&&(this.shouldDecode=t),null==this.shouldDecode&&(this.shouldDecode=!0),this.active=!0,this.source.start(),this.decoder&&this.shouldDecode?this._decode():void 0},e.prototype.stop=function(){if(this.active)return this.active=!1,this.source.pause()},e.prototype.get=function(t,e){if("format"===t||"duration"===t||"metadata"===t)return null!=this[t]?e(this[t]):(this.once(t,function(t){return function(r){return t.stop(),e(r)}}(this)),this.start())},e.prototype.decodePacket=function(){return this.decoder.decode()},e.prototype.decodeToBuffer=function(t){var e,r,i;return i=0,e=[],this.on("data",r=function(t){return i+=t.length,e.push(t)}),this.once("end",function(){var n,a,o,s,l;for(n=new Float32Array(i),o=0,s=0,l=e.length;s<l;s++)a=e[s],n.set(a,o),o+=a.length;return this.off("data",r),t(n)}),this.start()},e.prototype.probe=function(t){var e;if(this.active)return(e=a.find(t))?(this.demuxer=new e(this.source,t),this.demuxer.on("format",this.findDecoder),this.demuxer.on("duration",function(t){return function(e){return t.duration=e,t.emit("duration",t.duration)}}(this)),this.demuxer.on("metadata",function(t){return function(e){return t.metadata=e,t.emit("metadata",t.metadata)}}(this)),this.demuxer.on("error",function(t){return function(e){return t.emit("error",e),t.stop()}}(this))):this.emit("error","A demuxer for this container was not found.")},e.prototype.findDecoder=function(t){var e,r;if(this.format=t,this.active)return this.emit("format",this.format),(e=n.find(this.format.formatID))?(this.decoder=new e(this.demuxer,this.format),this.format.floatingPoint?this.decoder.on("data",function(t){return function(e){return t.emit("data",e)}}(this)):(r=Math.pow(2,this.format.bitsPerChannel-1),this.decoder.on("data",function(t){return function(e){var i,n,a,o,s;for(i=new Float32Array(e.length),n=o=0,s=e.length;o<s;n=++o)a=e[n],i[n]=a/r;return t.emit("data",i)}}(this))),this.decoder.on("error",function(t){return function(e){return t.emit("error",e),t.stop()}}(this)),this.decoder.on("end",function(t){return function(){return t.emit("end")}}(this)),this.emit("decodeStart"),this.shouldDecode?this._decode():void 0):this.emit("error","A decoder for "+this.format.formatID+" was not found.")},e.prototype._decode=function(){for(;this.decoder.decode()&&this.active;);if(this.active)return this.decoder.once("data",this._decode)},e.prototype.destroy=function(){var t,e,r;return this.stop(),null!=(t=this.demuxer)&&t.off(),null!=(e=this.decoder)&&e.off(),null!=(r=this.source)&&r.off(),this.off()},e}(o),e.exports=r}).call(this)},{"./core/events":8,"./decoder":11,"./demuxer":14,"./sources/buffer":31,"./sources/node/file":29,"./sources/node/http":30}],2:[function(t,e,r){(function(){var e,i,n;for(e in n=t("./aurora_base"))i=n[e],r[e]=i;t("./demuxers/caf"),t("./demuxers/m4a"),t("./demuxers/aiff"),t("./demuxers/wave"),t("./demuxers/au"),t("./decoders/lpcm"),t("./decoders/xlaw")}).call(this)},{"./aurora_base":3,"./decoders/lpcm":12,"./decoders/xlaw":13,"./demuxers/aiff":15,"./demuxers/au":16,"./demuxers/caf":17,"./demuxers/m4a":18,"./demuxers/wave":19}],3:[function(t,e,r){(function(){r.Base=t("./core/base"),r.Buffer=t("./core/buffer"),r.BufferList=t("./core/bufferlist"),r.Stream=t("./core/stream"),r.Bitstream=t("./core/bitstream"),r.EventEmitter=t("./core/events"),r.UnderflowError=t("./core/underflow"),r.HTTPSource=t("./sources/node/http"),r.FileSource=t("./sources/node/file"),r.BufferSource=t("./sources/buffer"),r.Demuxer=t("./demuxer"),r.Decoder=t("./decoder"),r.AudioDevice=t("./device"),r.Asset=t("./asset"),r.Player=t("./player"),r.Filter=t("./filter"),r.VolumeFilter=t("./filters/volume"),r.BalanceFilter=t("./filters/balance")}).call(this)},{"./asset":1,"./core/base":4,"./core/bitstream":5,"./core/buffer":6,"./core/bufferlist":7,"./core/events":8,"./core/stream":9,"./core/underflow":10,"./decoder":11,"./demuxer":14,"./device":20,"./filter":24,"./filters/balance":25,"./filters/volume":26,"./player":27,"./sources/buffer":31,"./sources/node/file":29,"./sources/node/http":30}],4:[function(t,e,r){(function(){var t,r={}.hasOwnProperty,i=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1};t=function(){var t;function e(){}return t=/\b_super\b/,e.extend=function(e){var n,a,o,s,l,c;if(n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var i in e)r.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e}(this),"function"==typeof e)for(o in s=Object.keys(n.prototype),e.call(n,n),e={},l=n.prototype)a=l[o],i.call(s,o)<0&&(e[o]=a);for(o in c=n.__super__,e)"function"==typeof(a=e[o])&&t.test(a)?function(t,e){n.prototype[t]=function(){var r,i;return i=this._super,this._super=c[t],r=e.apply(this,arguments),this._super=i,r}}(o,a):n.prototype[o]=a;return n},e}(),e.exports=t}).call(this)},{}],5:[function(t,e,r){(function(){var t;t=function(){function t(t){this.stream=t,this.bitPosition=0}return t.prototype.copy=function(){var e;return(e=new t(this.stream.copy())).bitPosition=this.bitPosition,e},t.prototype.offset=function(){return 8*this.stream.offset+this.bitPosition},t.prototype.available=function(t){return this.stream.available((t+8-this.bitPosition)/8)},t.prototype.advance=function(t){var e;return e=this.bitPosition+t,this.stream.advance(e>>3),this.bitPosition=7&e},t.prototype.rewind=function(t){var e;return e=this.bitPosition-t,this.stream.rewind(Math.abs(e>>3)),this.bitPosition=7&e},t.prototype.seek=function(t){var e;return e=this.offset(),t>e?this.advance(t-e):t<e?this.rewind(e-t):void 0},t.prototype.align=function(){if(0!==this.bitPosition)return this.bitPosition=0,this.stream.advance(1)},t.prototype.read=function(t,e){var r,i,n,a,o,s,l;if(0===t)return 0;if((l=t+this.bitPosition)<=8)r=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-t;else if(l<=16)r=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-t;else if(l<=24)r=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-t;else if(l<=32)r=this.stream.peekUInt32()<<this.bitPosition>>>32-t;else{if(!(l<=40))throw new Error("Too many bits!");i=4294967296*this.stream.peekUInt8(0),n=this.stream.peekUInt8(1)<<24>>>0,a=this.stream.peekUInt8(2)<<16,o=this.stream.peekUInt8(3)<<8,s=this.stream.peekUInt8(4),r=i+n+a+o+s,r%=Math.pow(2,40-this.bitPosition),r=Math.floor(r/Math.pow(2,40-this.bitPosition-t))}return e&&(l<32?r>>>t-1&&(r=-1*((1<<t>>>0)-r)):r/Math.pow(2,t-1)|0&&(r=-1*(Math.pow(2,t)-r))),this.advance(t),r},t.prototype.peek=function(t,e){var r,i,n,a,o,s,l;if(0===t)return 0;if((l=t+this.bitPosition)<=8)r=(this.stream.peekUInt8()<<this.bitPosition&255)>>>8-t;else if(l<=16)r=(this.stream.peekUInt16()<<this.bitPosition&65535)>>>16-t;else if(l<=24)r=(this.stream.peekUInt24()<<this.bitPosition&16777215)>>>24-t;else if(l<=32)r=this.stream.peekUInt32()<<this.bitPosition>>>32-t;else{if(!(l<=40))throw new Error("Too many bits!");i=4294967296*this.stream.peekUInt8(0),n=this.stream.peekUInt8(1)<<24>>>0,a=this.stream.peekUInt8(2)<<16,o=this.stream.peekUInt8(3)<<8,s=this.stream.peekUInt8(4),r=i+n+a+o+s,r%=Math.pow(2,40-this.bitPosition),r=Math.floor(r/Math.pow(2,40-this.bitPosition-t))}return e&&(l<32?r>>>t-1&&(r=-1*((1<<t>>>0)-r)):r/Math.pow(2,t-1)|0&&(r=-1*(Math.pow(2,t)-r))),r},t.prototype.readLSB=function(t,e){var r,i;if(0===t)return 0;if(t>40)throw new Error("Too many bits!");return i=t+this.bitPosition,r=this.stream.peekUInt8(0)>>>this.bitPosition,i>8&&(r|=this.stream.peekUInt8(1)<<8-this.bitPosition),i>16&&(r|=this.stream.peekUInt8(2)<<16-this.bitPosition),i>24&&(r+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),i>32&&(r+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),i>=32?r%=Math.pow(2,t):r&=(1<<t)-1,e&&(i<32?r>>>t-1&&(r=-1*((1<<t>>>0)-r)):r/Math.pow(2,t-1)|0&&(r=-1*(Math.pow(2,t)-r))),this.advance(t),r},t.prototype.peekLSB=function(t,e){var r,i;if(0===t)return 0;if(t>40)throw new Error("Too many bits!");return i=t+this.bitPosition,r=this.stream.peekUInt8(0)>>>this.bitPosition,i>8&&(r|=this.stream.peekUInt8(1)<<8-this.bitPosition),i>16&&(r|=this.stream.peekUInt8(2)<<16-this.bitPosition),i>24&&(r+=this.stream.peekUInt8(3)<<24-this.bitPosition>>>0),i>32&&(r+=this.stream.peekUInt8(4)*Math.pow(2,32-this.bitPosition)),i>=32?r%=Math.pow(2,t):r&=(1<<t)-1,e&&(i<32?r>>>t-1&&(r=-1*((1<<t>>>0)-r)):r/Math.pow(2,t-1)|0&&(r=-1*(Math.pow(2,t)-r))),r},t}(),e.exports=t}).call(this)},{}],6:[function(t,r,i){(function(t){(function(){var e;e=function(){var e,r;function i(e){var r;if(e instanceof Uint8Array)this.data=e;else if(e instanceof ArrayBuffer||Array.isArray(e)||"number"==typeof e||(null!=(r=t.Buffer)?r.isBuffer(e):void 0))this.data=new Uint8Array(e);else if(e.buffer instanceof ArrayBuffer)this.data=new Uint8Array(e.buffer,e.byteOffset,e.length*e.BYTES_PER_ELEMENT);else{if(!(e instanceof i))throw new Error("Constructing buffer with unknown type.");this.data=e.data}this.length=this.data.length,this.next=null,this.prev=null}return i.allocate=function(t){return new i(t)},i.prototype.copy=function(){return new i(new Uint8Array(this.data))},i.prototype.slice=function(t,e){return null==e&&(e=this.length),0===t&&e>=this.length?new i(this.data):new i(this.data.subarray(t,t+e))},e=t.BlobBuilder||t.MozBlobBuilder||t.WebKitBlobBuilder,r=t.URL||t.webkitURL||t.mozURL,i.makeBlob=function(t,r){var i;null==r&&(r="application/octet-stream");try{return new Blob([t],{type:r})}catch(t){}return null!=e?((i=new e).append(t),i.getBlob(r)):null},i.makeBlobURL=function(t,e){return null!=r?r.createObjectURL(this.makeBlob(t,e)):void 0},i.revokeBlobURL=function(t){return null!=r?r.revokeObjectURL(t):void 0},i.prototype.toBlob=function(){return i.makeBlob(this.data.buffer)},i.prototype.toBlobURL=function(){return i.makeBlobURL(this.data.buffer)},i}(),r.exports=e}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,r){(function(){var t;t=function(){function t(){this.first=null,this.last=null,this.numBuffers=0,this.availableBytes=0,this.availableBuffers=0}return t.prototype.copy=function(){var e;return(e=new t).first=this.first,e.last=this.last,e.numBuffers=this.numBuffers,e.availableBytes=this.availableBytes,e.availableBuffers=this.availableBuffers,e},t.prototype.append=function(t){var e;return t.prev=this.last,null!=(e=this.last)&&(e.next=t),this.last=t,null==this.first&&(this.first=t),this.availableBytes+=t.length,this.availableBuffers++,this.numBuffers++},t.prototype.advance=function(){return!!this.first&&(this.availableBytes-=this.first.length,this.availableBuffers--,this.first=this.first.next,null!=this.first)},t.prototype.rewind=function(){var t;return!(this.first&&!this.first.prev)&&(this.first=(null!=(t=this.first)?t.prev:void 0)||this.last,this.first&&(this.availableBytes+=this.first.length,this.availableBuffers++),null!=this.first)},t.prototype.reset=function(){var t;for(t=[];this.rewind(););return t},t}(),e.exports=t}).call(this)},{}],8:[function(t,e,r){(function(){var r,i,n={}.hasOwnProperty,a=[].slice;r=t("./base"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.on=function(t,e){var r;return null==this.events&&(this.events={}),null==(r=this.events)[t]&&(r[t]=[]),this.events[t].push(e)},e.prototype.off=function(t,e){var r,i;if(null!=this.events)if(null!=(i=this.events)?i[t]:void 0){if(null==e)return this.events[t];if(~(r=this.events[t].indexOf(e)))return this.events[t].splice(r,1)}else if(null==t)return{}},e.prototype.once=function(t,e){var r;return this.on(t,r=function(){return this.off(t,r),e.apply(this,arguments)})},e.prototype.emit=function(){var t,e,r,i,n,o;if(e=arguments[0],t=2<=arguments.length?a.call(arguments,1):[],null!=(n=this.events)?n[e]:void 0)for(o=this.events[e].slice(),r=0,i=o.length;r<i;r++)o[r].apply(this,t)},e}(r),e.exports=i}).call(this)},{"./base":4}],9:[function(t,e,r){(function(){var r,i,n,a;i=t("./bufferlist"),r=t("./buffer"),a=t("./underflow"),n=function(){var t,e,n,o,s,l,c,u,h,f,d,p,m;function _(t){this.list=t,this.localOffset=0,this.offset=0}return t=new ArrayBuffer(16),m=new Uint8Array(t),h=new Int8Array(t),d=new Uint16Array(t),c=new Int16Array(t),p=new Uint32Array(t),u=new Int32Array(t),n=new Float32Array(t),"undefined"!=typeof Float64Array&&null!==Float64Array&&(o=new Float64Array(t)),f=13330===new Uint16Array(new Uint8Array([18,52]).buffer)[0],_.fromBuffer=function(t){var e;return(e=new i).append(t),new _(e)},_.prototype.copy=function(){var t;return(t=new _(this.list.copy())).localOffset=this.localOffset,t.offset=this.offset,t},_.prototype.available=function(t){return t<=this.list.availableBytes-this.localOffset},_.prototype.remainingBytes=function(){return this.list.availableBytes-this.localOffset},_.prototype.advance=function(t){if(!this.available(t))throw new a;for(this.localOffset+=t,this.offset+=t;this.list.first&&this.localOffset>=this.list.first.length;)this.localOffset-=this.list.first.length,this.list.advance();return this},_.prototype.rewind=function(t){if(t>this.offset)throw new a;for(this.list.first||(this.list.rewind(),this.localOffset=this.list.first.length),this.localOffset-=t,this.offset-=t;this.list.first.prev&&this.localOffset<0;)this.list.rewind(),this.localOffset+=this.list.first.length;return this},_.prototype.seek=function(t){return t>this.offset?this.advance(t-this.offset):t<this.offset?this.rewind(this.offset-t):void 0},_.prototype.readUInt8=function(){var t;if(!this.available(1))throw new a;return t=this.list.first.data[this.localOffset],this.localOffset+=1,this.offset+=1,this.localOffset===this.list.first.length&&(this.localOffset=0,this.list.advance()),t},_.prototype.peekUInt8=function(t){var e;if(null==t&&(t=0),!this.available(t+1))throw new a;for(t=this.localOffset+t,e=this.list.first;e;){if(e.length>t)return e.data[t];t-=e.length,e=e.next}return 0},_.prototype.read=function(t,e){var r,i,n;if(null==e&&(e=!1),e===f)for(r=i=0;i<t;r=i+=1)m[r]=this.readUInt8();else for(r=n=t-1;n>=0;r=n+=-1)m[r]=this.readUInt8()},_.prototype.peek=function(t,e,r){var i,n,a;if(null==r&&(r=!1),r===f)for(i=n=0;n<t;i=n+=1)m[i]=this.peekUInt8(e+i);else for(i=a=0;a<t;i=a+=1)m[t-i-1]=this.peekUInt8(e+i)},_.prototype.readInt8=function(){return this.read(1),h[0]},_.prototype.peekInt8=function(t){return null==t&&(t=0),this.peek(1,t),h[0]},_.prototype.readUInt16=function(t){return this.read(2,t),d[0]},_.prototype.peekUInt16=function(t,e){return null==t&&(t=0),this.peek(2,t,e),d[0]},_.prototype.readInt16=function(t){return this.read(2,t),c[0]},_.prototype.peekInt16=function(t,e){return null==t&&(t=0),this.peek(2,t,e),c[0]},_.prototype.readUInt24=function(t){return t?this.readUInt16(!0)+(this.readUInt8()<<16):(this.readUInt16()<<8)+this.readUInt8()},_.prototype.peekUInt24=function(t,e){return null==t&&(t=0),e?this.peekUInt16(t,!0)+(this.peekUInt8(t+2)<<16):(this.peekUInt16(t)<<8)+this.peekUInt8(t+2)},_.prototype.readInt24=function(t){return t?this.readUInt16(!0)+(this.readInt8()<<16):(this.readInt16()<<8)+this.readUInt8()},_.prototype.peekInt24=function(t,e){return null==t&&(t=0),e?this.peekUInt16(t,!0)+(this.peekInt8(t+2)<<16):(this.peekInt16(t)<<8)+this.peekUInt8(t+2)},_.prototype.readUInt32=function(t){return this.read(4,t),p[0]},_.prototype.peekUInt32=function(t,e){return null==t&&(t=0),this.peek(4,t,e),p[0]},_.prototype.readInt32=function(t){return this.read(4,t),u[0]},_.prototype.peekInt32=function(t,e){return null==t&&(t=0),this.peek(4,t,e),u[0]},_.prototype.readFloat32=function(t){return this.read(4,t),n[0]},_.prototype.peekFloat32=function(t,e){return null==t&&(t=0),this.peek(4,t,e),n[0]},_.prototype.readFloat64=function(t){return this.read(8,t),o?o[0]:s()},s=function(){var t,e,r,i,n,a;return i=p[0],(r=p[1])&&2147483648!==r?(a=1-2*(r>>>31),e=1048575&r,2047==(t=r>>>20&2047)?e?NaN:a*(1/0):(t-=1023,n=(1048576|e)*Math.pow(2,t-20),n+=i*Math.pow(2,t-52),a*n)):0},_.prototype.peekFloat64=function(t,e){return null==t&&(t=0),this.peek(8,t,e),o?o[0]:s()},_.prototype.readFloat80=function(t){return this.read(10,t),l()},l=function(){var t,e,r,i,n,a,o;return i=p[0],n=p[1],t=m[9],e=m[8],o=1-2*(t>>>7),0==(r=(127&t)<<8|e)&&0===n&&0===i?0:32767===r?0===n&&0===i?o*(1/0):NaN:(r-=16383,a=n*Math.pow(2,r-31),a+=i*Math.pow(2,r-63),o*a)},_.prototype.peekFloat80=function(t,e){return null==t&&(t=0),this.peek(10,t,e),l()},_.prototype.readBuffer=function(t){var e,i,n,a;for(i=r.allocate(t),n=i.data,e=a=0;a<t;e=a+=1)n[e]=this.readUInt8();return i},_.prototype.peekBuffer=function(t,e){var i,n,a,o;for(null==t&&(t=0),n=r.allocate(e),a=n.data,i=o=0;o<e;i=o+=1)a[i]=this.peekUInt8(t+i);return n},_.prototype.readSingleBuffer=function(t){var e;return e=this.list.first.slice(this.localOffset,t),this.advance(e.length),e},_.prototype.peekSingleBuffer=function(t,e){return this.list.first.slice(this.localOffset+t,e)},_.prototype.readString=function(t,r){return null==r&&(r="ascii"),e.call(this,0,t,r,!0)},_.prototype.peekString=function(t,r,i){return null==t&&(t=0),null==i&&(i="ascii"),e.call(this,t,r,i,!1)},e=function(t,e,r,i){var n,a,o,s,l,c,u,h,f,d,p,m,_;switch(r=r.toLowerCase(),f=null===e?0:-1,null==e&&(e=1/0),u=t+e,p="",r){case"ascii":case"latin1":for(;t<u&&(c=this.peekUInt8(t++))!==f;)p+=String.fromCharCode(c);break;case"utf8":case"utf-8":for(;t<u&&(n=this.peekUInt8(t++))!==f;)0==(128&n)?p+=String.fromCharCode(n):192==(224&n)?(a=63&this.peekUInt8(t++),p+=String.fromCharCode((31&n)<<6|a)):224==(240&n)?(a=63&this.peekUInt8(t++),o=63&this.peekUInt8(t++),p+=String.fromCharCode((15&n)<<12|a<<6|o)):240==(248&n)&&(a=63&this.peekUInt8(t++),o=63&this.peekUInt8(t++),s=63&this.peekUInt8(t++),d=((15&n)<<18|a<<12|o<<6|s)-65536,p+=String.fromCharCode(55296+(d>>10),56320+(1023&d)));break;case"utf16-be":case"utf16be":case"utf16le":case"utf16-le":case"utf16bom":case"utf16-bom":switch(r){case"utf16be":case"utf16-be":h=!1;break;case"utf16le":case"utf16-le":h=!0;break;case"utf16bom":case"utf16-bom":if(e<2||(l=this.peekUInt16(t))===f)return i&&this.advance(t+=2),p;h=65534===l,t+=2}for(;t<u&&(m=this.peekUInt16(t,h))!==f;)if(t+=2,m<55296||m>57343)p+=String.fromCharCode(m);else{if(m>56319)throw new Error("Invalid utf16 sequence.");if((_=this.peekUInt16(t,h))<56320||_>57343)throw new Error("Invalid utf16 sequence.");p+=String.fromCharCode(m,_),t+=2}m===f&&(t+=2);break;default:throw new Error("Unknown encoding: "+r)}return i&&this.advance(t),p},_}(),e.exports=n}).call(this)},{"./buffer":6,"./bufferlist":7,"./underflow":10}],10:[function(t,e,r){(function(){var t,r={}.hasOwnProperty;t=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.name="UnderflowError",this.stack=(new Error).stack}return function(t,e){for(var i in e)r.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e}(Error),e.exports=t}).call(this)},{}],11:[function(t,e,r){(function(){var r,i,n,a,o,s,l={}.hasOwnProperty;a=t("./core/events"),i=t("./core/bufferlist"),o=t("./core/stream"),r=t("./core/bitstream"),s=t("./core/underflow"),n=function(t){var e;function n(t,e){var n;this.demuxer=t,this.format=e,n=new i,this.stream=new o(n),this.bitstream=new r(this.stream),this.receivedFinalBuffer=!1,this.waiting=!1,this.demuxer.on("cookie",function(t){return function(e){var r;try{return t.setCookie(e)}catch(e){return r=e,t.emit("error",r)}}}(this)),this.demuxer.on("data",function(t){return function(e){if(n.append(e),t.waiting)return t.decode()}}(this)),this.demuxer.on("end",function(t){return function(){if(t.receivedFinalBuffer=!0,t.waiting)return t.decode()}}(this)),this.init()}return function(t,e){for(var r in e)l.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(n,t),n.prototype.init=function(){},n.prototype.setCookie=function(t){},n.prototype.readChunk=function(){},n.prototype.decode=function(){var t,e,r;this.waiting=!this.receivedFinalBuffer,e=this.bitstream.offset();try{r=this.readChunk()}catch(e){if(!((t=e)instanceof s))return this.emit("error",t),!1}return r?(this.emit("data",r),this.receivedFinalBuffer&&this.emit("end"),!0):(this.receivedFinalBuffer?this.emit("end"):(this.bitstream.seek(e),this.waiting=!0),!1)},n.prototype.seek=function(t){var e;return e=this.demuxer.seek(t),this.stream.seek(e.offset),e.timestamp},e={},n.register=function(t,r){return e[t]=r},n.find=function(t){return e[t]||null},n}(a),e.exports=n}).call(this)},{"./core/bitstream":5,"./core/bufferlist":7,"./core/events":8,"./core/stream":9,"./core/underflow":10}],12:[function(t,e,r){(function(){var e,r=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty;!function(t){function n(){return this.readChunk=r(this.readChunk,this),n.__super__.constructor.apply(this,arguments)}(function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype})(n,t),e.register("lpcm",n),n.prototype.readChunk=function(){var t,e,r,i,n,a,o,s,l,c,u,h;if(a=this.stream,r=this.format.littleEndian,t=Math.min(4096,a.remainingBytes()),n=t/(this.format.bitsPerChannel/8)|0,t<this.format.bitsPerChannel/8)return null;if(this.format.floatingPoint)switch(this.format.bitsPerChannel){case 32:for(i=new Float32Array(n),e=o=0;o<n;e=o+=1)i[e]=a.readFloat32(r);break;case 64:for(i=new Float64Array(n),e=s=0;s<n;e=s+=1)i[e]=a.readFloat64(r);break;default:throw new Error("Unsupported bit depth.")}else switch(this.format.bitsPerChannel){case 8:for(i=new Int8Array(n),e=l=0;l<n;e=l+=1)i[e]=a.readInt8();break;case 16:for(i=new Int16Array(n),e=c=0;c<n;e=c+=1)i[e]=a.readInt16(r);break;case 24:for(i=new Int32Array(n),e=u=0;u<n;e=u+=1)i[e]=a.readInt24(r);break;case 32:for(i=new Int32Array(n),e=h=0;h<n;e=h+=1)i[e]=a.readInt32(r);break;default:throw new Error("Unsupported bit depth.")}return i}}(e=t("../decoder"))}).call(this)},{"../decoder":11}],13:[function(t,e,r){(function(){var e,r=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty;!function(t){function n(){return this.readChunk=r(this.readChunk,this),n.__super__.constructor.apply(this,arguments)}(function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype})(n,t),e.register("ulaw",n),e.register("alaw",n),n.prototype.init=function(){var t,e,r,i,n,a,o;if(this.format.bitsPerChannel=16,this.table=i=new Int16Array(256),"ulaw"===this.format.formatID)for(t=a=0;a<256;t=++a)r=132+((15&(n=~t))<<3),r<<=(112&n)>>>4,i[t]=128&n?132-r:r-132;else for(t=o=0;o<256;t=++o)r=15&(n=85^t),r=(e=(112&n)>>>4)?r+r+1+32<<e+2:r+r+1<<3,i[t]=128&n?r:-r},n.prototype.readChunk=function(){var t,e,r,i,n,a;if(i=this.stream,n=this.table,0!==(r=Math.min(4096,this.stream.remainingBytes()))){for(e=new Int16Array(r),t=a=0;a<r;t=a+=1)e[t]=n[i.readUInt8()];return e}}}(e=t("../decoder"))}).call(this)},{"../decoder":11}],14:[function(t,e,r){(function(){var r,i,n,a,o={}.hasOwnProperty;n=t("./core/events"),r=t("./core/bufferlist"),a=t("./core/stream"),i=function(t){var e;function i(t,e){var i,n;(i=new r).append(e),this.stream=new a(i),n=!1,t.on("data",function(t){return function(e){var r;n=!0,i.append(e);try{return t.readChunk(e)}catch(e){return r=e,t.emit("error",r)}}}(this)),t.on("error",function(t){return function(e){return t.emit("error",e)}}(this)),t.on("end",function(t){return function(){return n||t.readChunk(e),t.emit("end")}}(this)),this.seekPoints=[],this.init()}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(i,t),i.probe=function(t){return!1},i.prototype.init=function(){},i.prototype.readChunk=function(t){},i.prototype.addSeekPoint=function(t,e){var r;return r=this.searchTimestamp(e),this.seekPoints.splice(r,0,{offset:t,timestamp:e})},i.prototype.searchTimestamp=function(t,e){var r,i,n,a;if(i=0,(r=this.seekPoints.length)>0&&this.seekPoints[r-1].timestamp<t)return r;for(;i<r;)n=i+r>>1,(a=this.seekPoints[n].timestamp)<t?i=n+1:a>=t&&(r=n);return r>this.seekPoints.length&&(r=this.seekPoints.length),r},i.prototype.seek=function(t){var e;return this.format&&this.format.framesPerPacket>0&&this.format.bytesPerPacket>0?{timestamp:t,offset:this.format.bytesPerPacket*t/this.format.framesPerPacket}:(e=this.searchTimestamp(t),this.seekPoints[e])},e=[],i.register=function(t){return e.push(t)},i.find=function(t){var r,i,n,o,s;for(n=a.fromBuffer(t),o=0,s=e.length;o<s;o++){r=e[o],i=n.offset;try{if(r.probe(n))return r}catch(t){}n.seek(i)}return null},i}(n),e.exports=i}).call(this)},{"./core/bufferlist":7,"./core/events":8,"./core/stream":9}],15:[function(t,e,r){(function(){var e,r={}.hasOwnProperty;!function(t){function i(){return i.__super__.constructor.apply(this,arguments)}(function(t,e){for(var i in e)r.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype})(i,t),e.register(i),i.probe=function(t){var e;return"FORM"===t.peekString(0,4)&&("AIFF"===(e=t.peekString(8,4))||"AIFC"===e)},i.prototype.readChunk=function(){var t,e,r,i;if(!this.readStart&&this.stream.available(12)){if("FORM"!==this.stream.readString(4))return this.emit("error","Invalid AIFF.");if(this.fileSize=this.stream.readUInt32(),this.fileType=this.stream.readString(4),this.readStart=!0,"AIFF"!==(i=this.fileType)&&"AIFC"!==i)return this.emit("error","Invalid AIFF.")}for(;this.stream.available(1);){switch(!this.readHeaders&&this.stream.available(8)&&(this.type=this.stream.readString(4),this.len=this.stream.readUInt32()),this.type){case"COMM":if(!this.stream.available(this.len))return;this.format={formatID:"lpcm",channelsPerFrame:this.stream.readUInt16(),sampleCount:this.stream.readUInt32(),bitsPerChannel:this.stream.readUInt16(),sampleRate:this.stream.readFloat80(),framesPerPacket:1,littleEndian:!1,floatingPoint:!1},this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,"AIFC"===this.fileType&&(e=this.stream.readString(4),this.format.littleEndian="sowt"===e&&this.format.bitsPerChannel>8,this.format.floatingPoint="fl32"===e||"fl64"===e,"twos"!==e&&"sowt"!==e&&"fl32"!==e&&"fl64"!==e&&"NONE"!==e||(e="lpcm"),this.format.formatID=e,this.len-=4),this.stream.advance(this.len-18),this.emit("format",this.format),this.emit("duration",this.format.sampleCount/this.format.sampleRate*1e3|0);break;case"SSND":this.readSSNDHeader&&this.stream.available(4)||(r=this.stream.readUInt32(),this.stream.advance(4),this.stream.advance(r),this.readSSNDHeader=!0),t=this.stream.readSingleBuffer(this.len),this.len-=t.length,this.readHeaders=this.len>0,this.emit("data",t);break;default:if(!this.stream.available(this.len))return;this.stream.advance(this.len)}"SSND"!==this.type&&(this.readHeaders=!1)}}}(e=t("../demuxer"))}).call(this)},{"../demuxer":14}],16:[function(t,e,r){(function(){var e,r={}.hasOwnProperty;!function(t){var i,n;function a(){return a.__super__.constructor.apply(this,arguments)}(function(t,e){for(var i in e)r.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype})(a,t),e.register(a),a.probe=function(t){return".snd"===t.peekString(0,4)},(i=[8,8,16,24,32,32,64])[26]=8,n={1:"ulaw",27:"alaw"},a.prototype.readChunk=function(){var t,e,r;if(!this.readHeader&&this.stream.available(24)){if(".snd"!==this.stream.readString(4))return this.emit("error","Invalid AU file.");if(this.stream.readUInt32(),e=this.stream.readUInt32(),r=this.stream.readUInt32(),this.format={formatID:n[r]||"lpcm",littleEndian:!1,floatingPoint:6===r||7===r,bitsPerChannel:i[r-1],sampleRate:this.stream.readUInt32(),channelsPerFrame:this.stream.readUInt32(),framesPerPacket:1},null==this.format.bitsPerChannel)return this.emit("error","Unsupported encoding in AU file.");this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,4294967295!==e&&(t=this.format.bitsPerChannel/8,this.emit("duration",e/t/this.format.channelsPerFrame/this.format.sampleRate*1e3|0)),this.emit("format",this.format),this.readHeader=!0}if(this.readHeader)for(;this.stream.available(1);)this.emit("data",this.stream.readSingleBuffer(this.stream.remainingBytes()))}}(e=t("../demuxer"))}).call(this)},{"../demuxer":14}],17:[function(t,e,r){(function(){var e,r,i={}.hasOwnProperty;e=t("../demuxer"),r=t("./m4a"),function(t){function n(){return n.__super__.constructor.apply(this,arguments)}(function(t,e){for(var r in e)i.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype})(n,t),e.register(n),n.probe=function(t){return"caff"===t.peekString(0,4)},n.prototype.readChunk=function(){var t,e,i,n,a,o,s,l,c,u,h,f,d;if(!this.format&&this.stream.available(64)){if("caff"!==this.stream.readString(4))return this.emit("error","Invalid CAF, does not begin with 'caff'");if(this.stream.advance(4),"desc"!==this.stream.readString(4))return this.emit("error","Invalid CAF, 'caff' is not followed by 'desc'");if(0!==this.stream.readUInt32()||32!==this.stream.readUInt32())return this.emit("error","Invalid 'desc' size, should be 32");this.format={},this.format.sampleRate=this.stream.readFloat64(),this.format.formatID=this.stream.readString(4),a=this.stream.readUInt32(),"lpcm"===this.format.formatID&&(this.format.floatingPoint=Boolean(1&a),this.format.littleEndian=Boolean(2&a)),this.format.bytesPerPacket=this.stream.readUInt32(),this.format.framesPerPacket=this.stream.readUInt32(),this.format.channelsPerFrame=this.stream.readUInt32(),this.format.bitsPerChannel=this.stream.readUInt32(),this.emit("format",this.format)}for(;this.stream.available(1);){if(!this.headerCache&&(this.headerCache={type:this.stream.readString(4),oversize:0!==this.stream.readUInt32(),size:this.stream.readUInt32()},this.headerCache.oversize))return this.emit("error","Holy Shit, an oversized file, not supported in JS");switch(this.headerCache.type){case"kuki":this.stream.available(this.headerCache.size)&&("aac "===this.format.formatID?(l=this.stream.offset+this.headerCache.size,(i=r.readEsds(this.stream))&&this.emit("cookie",i),this.stream.seek(l)):(t=this.stream.readBuffer(this.headerCache.size),this.emit("cookie",t)),this.headerCache=null);break;case"pakt":if(this.stream.available(this.headerCache.size)){if(0!==this.stream.readUInt32())return this.emit("error","Sizes greater than 32 bits are not supported.");if(this.numPackets=this.stream.readUInt32(),0!==this.stream.readUInt32())return this.emit("error","Sizes greater than 32 bits are not supported.");for(this.numFrames=this.stream.readUInt32(),this.primingFrames=this.stream.readUInt32(),this.remainderFrames=this.stream.readUInt32(),this.emit("duration",this.numFrames/this.format.sampleRate*1e3|0),this.sentDuration=!0,e=0,c=0,h=0,d=this.numPackets;h<d;h+=1)this.addSeekPoint(e,c),e+=this.format.bytesPerPacket||r.readDescrLen(this.stream),c+=this.format.framesPerPacket||r.readDescrLen(this.stream);this.headerCache=null}break;case"info":for(n=this.stream.readUInt32(),s={},f=0;0<=n?f<n:f>n;0<=n?++f:--f)o=this.stream.readString(null),u=this.stream.readString(null),s[o]=u;this.emit("metadata",s),this.headerCache=null;break;case"data":this.sentFirstDataChunk||(this.stream.advance(4),this.headerCache.size-=4,0===this.format.bytesPerPacket||this.sentDuration||(this.numFrames=this.headerCache.size/this.format.bytesPerPacket,this.emit("duration",this.numFrames/this.format.sampleRate*1e3|0)),this.sentFirstDataChunk=!0),t=this.stream.readSingleBuffer(this.headerCache.size),this.headerCache.size-=t.length,this.emit("data",t),this.headerCache.size<=0&&(this.headerCache=null);break;default:this.stream.available(this.headerCache.size)&&(this.stream.advance(this.headerCache.size),this.headerCache=null)}}}}(e)}).call(this)},{"../demuxer":14,"./m4a":18}],18:[function(t,e,r){(function(){var r,i,n={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(e in this&&this[e]===t)return e;return-1};r=t("../demuxer"),i=function(t){var e,i,o,s,l,c,u,h,f,d,p;function m(){return m.__super__.constructor.apply(this,arguments)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(m,t),r.register(m),i=["M4A ","M4P ","M4B ","M4V ","isom","mp42","qt  "],m.probe=function(t){var e;return"ftyp"===t.peekString(4,4)&&(e=t.peekString(8,4),a.call(i,e)>=0)},m.prototype.init=function(){return this.atoms=[],this.offsets=[],this.track=null,this.tracks=[]},l={},u={},s=function(t,e){var r,i,n,a,o;for(r=[],o=t.split(".").slice(0,-1),n=0,a=o.length;n<a;n++)i=o[n],r.push(i),u[r.join(".")]=!0;return null==l[t]&&(l[t]={}),l[t].fn=e},o=function(t,e){return null==l[t]&&(l[t]={}),l[t].after=e},m.prototype.readChunk=function(){var t,e;for(this.break=!1;this.stream.available(1)&&!this.break;){if(!this.readHeaders){if(!this.stream.available(8))return;if(this.len=this.stream.readUInt32()-8,this.type=this.stream.readString(4),0===this.len)continue;this.atoms.push(this.type),this.offsets.push(this.stream.offset+this.len),this.readHeaders=!0}if(e=this.atoms.join("."),null!=(t=l[e])?t.fn:void 0){if(!this.stream.available(this.len)&&"mdat"!==e)return;t.fn.call(this),e in u&&(this.readHeaders=!1)}else if(e in u)this.readHeaders=!1;else{if(!this.stream.available(this.len))return;this.stream.advance(this.len)}for(;this.stream.offset>=this.offsets[this.offsets.length-1];)(null!=(t=l[this.atoms.join(".")])?t.after:void 0)&&t.after.call(this),this.atoms.pop(),this.offsets.pop(),this.readHeaders=!1}},s("ftyp",function(){var t;return t=this.stream.readString(4),a.call(i,t)<0?this.emit("error","Not a valid M4A file."):this.stream.advance(this.len-4)}),s("moov.trak",function(){return this.track={},this.tracks.push(this.track)}),s("moov.trak.tkhd",function(){return this.stream.advance(4),this.stream.advance(8),this.track.id=this.stream.readUInt32(),this.stream.advance(this.len-16)}),s("moov.trak.mdia.hdlr",function(){return this.stream.advance(4),this.stream.advance(4),this.track.type=this.stream.readString(4),this.stream.advance(12),this.stream.advance(this.len-24)}),s("moov.trak.mdia.mdhd",function(){return this.stream.advance(4),this.stream.advance(8),this.track.timeScale=this.stream.readUInt32(),this.track.duration=this.stream.readUInt32(),this.stream.advance(4)}),e={ulaw:8,alaw:8,in24:24,in32:32,fl32:32,fl64:64},s("moov.trak.mdia.minf.stbl.stsd",function(){var t,r,i,n,a;return this.stream.advance(4),r=this.stream.readUInt32(),"soun"!==this.track.type?this.stream.advance(this.len-8):1!==r?this.emit("error","Only expecting one entry in sample description atom!"):(this.stream.advance(4),(t=this.track.format={}).formatID=this.stream.readString(4),this.stream.advance(6),this.stream.advance(2),i=this.stream.readUInt16(),this.stream.advance(6),t.channelsPerFrame=this.stream.readUInt16(),t.bitsPerChannel=this.stream.readUInt16(),this.stream.advance(4),t.sampleRate=this.stream.readUInt16(),this.stream.advance(2),1===i?(t.framesPerPacket=this.stream.readUInt32(),this.stream.advance(4),t.bytesPerFrame=this.stream.readUInt32(),this.stream.advance(4)):0!==i&&this.emit("error","Unknown version in stsd atom"),null!=e[t.formatID]&&(t.bitsPerChannel=e[t.formatID]),t.floatingPoint="fl32"===(n=t.formatID)||"fl64"===n,t.littleEndian="sowt"===t.formatID&&t.bitsPerChannel>8,"twos"===(a=t.formatID)||"sowt"===a||"in24"===a||"in32"===a||"fl32"===a||"fl64"===a||"raw "===a||"NONE"===a?t.formatID="lpcm":void 0)}),s("moov.trak.mdia.minf.stbl.stsd.alac",function(){return this.stream.advance(4),this.track.cookie=this.stream.readBuffer(this.len-4)}),s("moov.trak.mdia.minf.stbl.stsd.esds",function(){var t;return t=this.stream.offset+this.len,this.track.cookie=m.readEsds(this.stream),this.stream.seek(t)}),s("moov.trak.mdia.minf.stbl.stsd.wave.enda",function(){return this.track.format.littleEndian=!!this.stream.readUInt16()}),m.readDescrLen=function(t){var e,r,i;for(i=0,r=4;r--&&(e=t.readUInt8(),i=i<<7|127&e,128&e););return i},m.readEsds=function(t){var e,r,i;return t.advance(4),i=t.readUInt8(),r=m.readDescrLen(t),3===i?(t.advance(2),128&(e=t.readUInt8())&&t.advance(2),64&e&&t.advance(t.readUInt8()),32&e&&t.advance(2)):t.advance(2),i=t.readUInt8(),r=m.readDescrLen(t),4===i&&(t.readUInt8(),t.advance(1),t.advance(3),t.advance(4),t.advance(4),i=t.readUInt8(),r=m.readDescrLen(t),5===i)?t.readBuffer(r):null},s("moov.trak.mdia.minf.stbl.stts",function(){var t,e,r;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.stts=[],e=r=0;r<t;e=r+=1)this.track.stts[e]={count:this.stream.readUInt32(),duration:this.stream.readUInt32()};return this.setupSeekPoints()}),s("moov.trak.mdia.minf.stbl.stsc",function(){var t,e,r;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.stsc=[],e=r=0;r<t;e=r+=1)this.track.stsc[e]={first:this.stream.readUInt32(),count:this.stream.readUInt32(),id:this.stream.readUInt32()};return this.setupSeekPoints()}),s("moov.trak.mdia.minf.stbl.stsz",function(){var t,e,r;if(this.stream.advance(4),this.track.sampleSize=this.stream.readUInt32(),t=this.stream.readUInt32(),0===this.track.sampleSize&&t>0)for(this.track.sampleSizes=[],e=r=0;r<t;e=r+=1)this.track.sampleSizes[e]=this.stream.readUInt32();return this.setupSeekPoints()}),s("moov.trak.mdia.minf.stbl.stco",function(){var t,e,r;for(this.stream.advance(4),t=this.stream.readUInt32(),this.track.chunkOffsets=[],e=r=0;r<t;e=r+=1)this.track.chunkOffsets[e]=this.stream.readUInt32();return this.setupSeekPoints()}),s("moov.trak.tref.chap",function(){var t,e,r;for(t=this.len>>2,this.track.chapterTracks=[],e=r=0;r<t;e=r+=1)this.track.chapterTracks[e]=this.stream.readUInt32()}),m.prototype.setupSeekPoints=function(){var t,e,r,i,n,a,o,s,l,c,u,h,f,d,p;if(null!=this.track.chunkOffsets&&null!=this.track.stsc&&null!=this.track.sampleSize&&null!=this.track.stts){for(a=0,o=0,o=0,s=0,i=0,e=0,l=0,this.track.seekPoints=[],f=this.track.chunkOffsets,p=[],t=c=0,h=f.length;c<h;t=++c){for(r=f[t],u=0,d=this.track.stsc[a].count;u<d;u+=1)this.track.seekPoints.push({offset:e,position:r,timestamp:l}),n=this.track.sampleSize||this.track.sampleSizes[i++],e+=n,r+=n,l+=this.track.stts[o].duration,o+1<this.track.stts.length&&++s===this.track.stts[o].count&&(s=0,o++);a+1<this.track.stsc.length&&t+1===this.track.stsc[a+1].first?p.push(a++):p.push(void 0)}return p}},o("moov",function(){var t,e,r,i;for(null!=this.mdatOffset&&this.stream.seek(this.mdatOffset-8),i=this.tracks,e=0,r=i.length;e<r;e++)if("soun"===(t=i[e]).type){this.track=t;break}return"soun"!==this.track.type?(this.track=null,this.emit("error","No audio tracks in m4a file.")):(this.emit("format",this.track.format),this.emit("duration",this.track.duration/this.track.timeScale*1e3|0),this.track.cookie&&this.emit("cookie",this.track.cookie),this.seekPoints=this.track.seekPoints)}),s("mdat",function(){var t,e,r,i,n,a,o,s;if(!this.startedData){if(null==this.mdatOffset&&(this.mdatOffset=this.stream.offset),0===this.tracks.length)return t=Math.min(this.stream.remainingBytes(),this.len),this.stream.advance(t),void(this.len-=t);this.chunkIndex=0,this.stscIndex=0,this.sampleIndex=0,this.tailOffset=0,this.tailSamples=0,this.startedData=!0}if(!this.readChapters){if(this.readChapters=this.parseChapters(),this.break=!this.readChapters)return;this.stream.seek(this.mdatOffset)}if(n=this.track.chunkOffsets[this.chunkIndex]+this.tailOffset,r=0,this.stream.available(n-this.stream.offset)){for(this.stream.seek(n);this.chunkIndex<this.track.chunkOffsets.length;){for(i=this.track.stsc[this.stscIndex].count-this.tailSamples,e=0,a=s=0;s<i&&(o=this.track.sampleSize||this.track.sampleSizes[this.sampleIndex],this.stream.available(r+o));a=s+=1)r+=o,e+=o,this.sampleIndex++;if(a<i){this.tailOffset+=e,this.tailSamples+=a;break}if(this.chunkIndex++,this.tailOffset=0,this.tailSamples=0,this.stscIndex+1<this.track.stsc.length&&this.chunkIndex+1===this.track.stsc[this.stscIndex+1].first&&this.stscIndex++,n+r!==this.track.chunkOffsets[this.chunkIndex])break}return r>0?(this.emit("data",this.stream.readBuffer(r)),this.break=this.chunkIndex===this.track.chunkOffsets.length):this.break=!0}this.break=!0}),m.prototype.parseChapters=function(){var t,e,r,i,n,a,o,s,l,c,u,h,f;if(!((null!=(c=this.track.chapterTracks)?c.length:void 0)>0))return!0;for(e=this.track.chapterTracks[0],u=this.tracks,s=0,l=u.length;s<l&&(o=u[s]).id!==e;s++);for(o.id!==e&&this.emit("error","Chapter track does not exist."),null==this.chapters&&(this.chapters=[]);this.chapters.length<o.seekPoints.length;){if(n=o.seekPoints[this.chapters.length],!this.stream.available(n.position-this.stream.offset+32))return!1;if(this.stream.seek(n.position),r=this.stream.readUInt16(),a=null,!this.stream.available(r))return!1;r>2&&(65279!==(t=this.stream.peekUInt16())&&65534!==t||(a=this.stream.readString(r,"utf16-bom"))),null==a&&(a=this.stream.readString(r,"utf8")),i=null!=(h=null!=(f=o.seekPoints[this.chapters.length+1])?f.timestamp:void 0)?h:o.duration,this.chapters.push({title:a,timestamp:n.timestamp/o.timeScale*1e3|0,duration:(i-n.timestamp)/o.timeScale*1e3|0})}return this.emit("chapters",this.chapters),!0},s("moov.udta.meta",function(){return this.metadata={},this.stream.advance(4)}),o("moov.udta.meta",function(){return this.emit("metadata",this.metadata)}),(d=function(t,e,r){return s("moov.udta.meta.ilst."+t+".data",function(){return this.stream.advance(8),this.len-=8,r.call(this,e)})})("alb","album",p=function(t){return this.metadata[t]=this.stream.readString(this.len,"utf8")}),d("arg","arranger",p),d("art","artist",p),d("ART","artist",p),d("aART","albumArtist",p),d("catg","category",p),d("com","composer",p),d("cpy","copyright",p),d("cprt","copyright",p),d("cmt","comments",p),d("day","releaseDate",p),d("desc","description",p),d("gen","genre",p),d("grp","grouping",p),d("isr","ISRC",p),d("keyw","keywords",p),d("lab","recordLabel",p),d("ldes","longDescription",p),d("lyr","lyrics",p),d("nam","title",p),d("phg","recordingCopyright",p),d("prd","producer",p),d("prf","performers",p),d("purd","purchaseDate",p),d("purl","podcastURL",p),d("swf","songwriter",p),d("too","encoder",p),d("wrt","composer",p),d("covr","coverArt",function(t){return this.metadata[t]=this.stream.readBuffer(this.len)}),f=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk/Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Capella","Euro-House","Dance Hall"],d("gnre","genre",function(t){return this.metadata[t]=f[this.stream.readUInt16()-1]}),d("tmpo","tempo",function(t){return this.metadata[t]=this.stream.readUInt16()}),d("rtng","rating",function(t){var e;return e=this.stream.readUInt8(),this.metadata[t]=2===e?"Clean":0!==e?"Explicit":"None"}),d("disk","diskNumber",h=function(t){return this.stream.advance(2),this.metadata[t]=this.stream.readUInt16()+" of "+this.stream.readUInt16(),this.stream.advance(this.len-6)}),d("trkn","trackNumber",h),d("cpil","compilation",c=function(t){return this.metadata[t]=1===this.stream.readUInt8()}),d("pcst","podcast",c),d("pgap","gapless",c),m}(r),e.exports=i}).call(this)},{"../demuxer":14}],19:[function(t,e,r){(function(){var e,r={}.hasOwnProperty;!function(t){var i;function n(){return n.__super__.constructor.apply(this,arguments)}(function(t,e){for(var i in e)r.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype})(n,t),e.register(n),n.probe=function(t){return"RIFF"===t.peekString(0,4)&&"WAVE"===t.peekString(8,4)},i={1:"lpcm",3:"lpcm",6:"alaw",7:"ulaw"},n.prototype.readChunk=function(){var t,e,r;if(!this.readStart&&this.stream.available(12)){if("RIFF"!==this.stream.readString(4))return this.emit("error","Invalid WAV file.");if(this.fileSize=this.stream.readUInt32(!0),this.readStart=!0,"WAVE"!==this.stream.readString(4))return this.emit("error","Invalid WAV file.")}for(;this.stream.available(1);){switch(!this.readHeaders&&this.stream.available(8)&&(this.type=this.stream.readString(4),this.len=this.stream.readUInt32(!0)),this.type){case"fmt ":if(!((r=this.stream.readUInt16(!0))in i))return this.emit("error","Unsupported format in WAV file.");this.format={formatID:i[r],floatingPoint:3===r,littleEndian:"lpcm"===i[r],channelsPerFrame:this.stream.readUInt16(!0),sampleRate:this.stream.readUInt32(!0),framesPerPacket:1},this.stream.advance(4),this.stream.advance(2),this.format.bitsPerChannel=this.stream.readUInt16(!0),this.format.bytesPerPacket=this.format.bitsPerChannel/8*this.format.channelsPerFrame,this.emit("format",this.format),this.stream.advance(this.len-16);break;case"data":this.sentDuration||(e=this.format.bitsPerChannel/8,this.emit("duration",this.len/e/this.format.channelsPerFrame/this.format.sampleRate*1e3|0),this.sentDuration=!0),t=this.stream.readSingleBuffer(this.len),this.len-=t.length,this.readHeaders=this.len>0,this.emit("data",t);break;default:if(!this.stream.available(this.len))return;this.stream.advance(this.len)}"data"!==this.type&&(this.readHeaders=!1)}}}(e=t("../demuxer"))}).call(this)},{"../demuxer":14}],20:[function(t,e,r){(function(){var r,i,n=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty;i=t("./core/events"),r=function(t){var e;function r(t,e){this.sampleRate=t,this.channels=e,this.updateTime=n(this.updateTime,this),this.playing=!1,this.currentTime=0,this._lastTime=0}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(r,t),r.prototype.start=function(){if(!this.playing){if(this.playing=!0,null==this.device&&(this.device=r.create(this.sampleRate,this.channels)),!this.device)throw new Error("No supported audio device found.");return this._lastTime=this.device.getDeviceTime(),this._timer=setInterval(this.updateTime,200),this.device.on("refill",this.refill=function(t){return function(e){return t.emit("refill",e)}}(this))}},r.prototype.stop=function(){if(this.playing)return this.playing=!1,this.device.off("refill",this.refill),clearInterval(this._timer)},r.prototype.destroy=function(){var t;return this.stop(),null!=(t=this.device)?t.destroy():void 0},r.prototype.seek=function(t){return this.currentTime=t,this.playing&&(this._lastTime=this.device.getDeviceTime()),this.emit("timeUpdate",this.currentTime)},r.prototype.updateTime=function(){var t;return t=this.device.getDeviceTime(),this.currentTime+=(t-this._lastTime)/this.device.sampleRate*1e3|0,this._lastTime=t,this.emit("timeUpdate",this.currentTime)},e=[],r.register=function(t){return e.push(t)},r.create=function(t,r){var i,n,a;for(n=0,a=e.length;n<a;n++)if((i=e[n]).supported)return new i(t,r);return null},r}(i),e.exports=r}).call(this)},{"./core/events":8}],21:[function(t,e,r){(function(){var e,r,i,n=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty;i=t("../core/events"),r=t("../device"),e=t("../core/buffer"),function(t){var i,o;function s(t,e){this.sampleRate=t,this.channels=e,this.refill=n(this.refill,this),this.audio=new Audio,this.audio.mozSetup(this.channels,this.sampleRate),this.writePosition=0,this.prebufferSize=this.sampleRate/2,this.tail=null,this.timer=i(this.refill,100)}(function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype})(s,t),r.register(s),s.supported="undefined"!=typeof Audio&&null!==Audio&&"mozWriteAudio"in new Audio,s.prototype.refill=function(){var t,e,r,i;this.tail&&(i=this.audio.mozWriteAudio(this.tail),this.writePosition+=i,this.writePosition<this.tail.length?this.tail=this.tail.subarray(i):this.tail=null),r=this.audio.mozCurrentSampleOffset(),(t=r+this.prebufferSize-this.writePosition)>0&&(e=new Float32Array(t),this.emit("refill",e),(i=this.audio.mozWriteAudio(e))<e.length&&(this.tail=e.subarray(i)),this.writePosition+=i)},s.prototype.destroy=function(){return o(this.timer)},s.prototype.getDeviceTime=function(){return this.audio.mozCurrentSampleOffset()/this.channels},i=function(t,r){var i,n;return null==(i=e.makeBlobURL("setInterval(function() { postMessage('ping'); }, "+r+");"))?setInterval(t,r):((n=new Worker(i)).onmessage=t,n.url=i,n)},o=function(t){return t.terminate?(t.terminate(),URL.revokeObjectURL(t.url)):clearInterval(t)}}(i)}).call(this)},{"../core/buffer":6,"../core/events":8,"../device":20}],22:[function(t,e,r){function i(t,e,r,i){this.fromSampleRate=+t,this.toSampleRate=+e,this.channels=0|r,this.inputBufferLength=i,this.initialize()}i.prototype.initialize=function(){if(!(this.fromSampleRate>0&&this.toSampleRate>0&&this.channels>0))throw new Error("Invalid settings specified for the resampler.");if(this.fromSampleRate==this.toSampleRate)this.resampler=this.bypassResampler,this.ratioWeight=1;else{this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.fromSampleRate<this.toSampleRate?(this.compileLinearInterpolationFunction(),this.lastWeight=1):(this.compileMultiTapFunction(),this.tailExists=!1,this.lastWeight=0);var t=Math.ceil(this.inputBufferLength*this.toSampleRate/this.fromSampleRate/this.channels*1.01)*this.channels+this.channels;this.outputBuffer=new Float32Array(t),this.lastOutput=new Float32Array(this.channels)}},i.prototype.compileLinearInterpolationFunction=function(){for(var t="var outputOffset = 0;    var bufferLength = buffer.length;    if (bufferLength > 0) {      var weight = this.lastWeight;      var firstWeight = 0;      var secondWeight = 0;      var sourceOffset = 0;      var outputOffset = 0;      var outputBuffer = this.outputBuffer;      for (; weight < 1; weight += "+this.ratioWeight+") {        secondWeight = weight % 1;        firstWeight = 1 - secondWeight;",e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = (this.lastOutput["+e+"] * firstWeight) + (buffer["+e+"] * secondWeight);";t+="}      weight -= 1;      for (bufferLength -= "+this.channels+", sourceOffset = Math.floor(weight) * "+this.channels+"; sourceOffset < bufferLength;) {        secondWeight = weight % 1;        firstWeight = 1 - secondWeight;";for(var e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = (buffer[sourceOffset"+(e>0?" + "+e:"")+"] * firstWeight) + (buffer[sourceOffset + "+(this.channels+e)+"] * secondWeight);";t+="weight += "+this.ratioWeight+";        sourceOffset = Math.floor(weight) * "+this.channels+";      }";for(var e=0;e<this.channels;++e)t+="this.lastOutput["+e+"] = buffer[sourceOffset++];";t+="this.lastWeight = weight % 1;    }    return this.outputBuffer;",this.resampler=Function("buffer",t)},i.prototype.compileMultiTapFunction=function(){for(var t="var outputOffset = 0;    var bufferLength = buffer.length;    if (bufferLength > 0) {      var weight = 0;",e=0;e<this.channels;++e)t+="var output"+e+" = 0;";for(t+="var actualPosition = 0;      var amountToNext = 0;      var alreadyProcessedTail = !this.tailExists;      this.tailExists = false;      var outputBuffer = this.outputBuffer;      var currentPosition = 0;      do {        if (alreadyProcessedTail) {          weight = "+this.ratioWeight+";",e=0;e<this.channels;++e)t+="output"+e+" = 0;";for(t+="}        else {          weight = this.lastWeight;",e=0;e<this.channels;++e)t+="output"+e+" = this.lastOutput["+e+"];";for(t+="alreadyProcessedTail = true;        }        while (weight > 0 && actualPosition < bufferLength) {          amountToNext = 1 + actualPosition - currentPosition;          if (weight >= amountToNext) {",e=0;e<this.channels;++e)t+="output"+e+" += buffer[actualPosition++] * amountToNext;";for(t+="currentPosition = actualPosition;            weight -= amountToNext;          }          else {",e=0;e<this.channels;++e)t+="output"+e+" += buffer[actualPosition"+(e>0?" + "+e:"")+"] * weight;";for(t+="currentPosition += weight;            weight = 0;            break;          }        }        if (weight <= 0) {",e=0;e<this.channels;++e)t+="outputBuffer[outputOffset++] = output"+e+" / "+this.ratioWeight+";";for(t+="}        else {          this.lastWeight = weight;",e=0;e<this.channels;++e)t+="this.lastOutput["+e+"] = output"+e+";";t+="this.tailExists = true;          break;        }      } while (actualPosition < bufferLength);    }    return this.outputBuffer;",this.resampler=Function("buffer",t)},i.prototype.bypassResampler=function(t){return t},e.exports=i},{}],23:[function(t,r,i){(function(e){(function(){var r,i,n,a=function(t,e){return function(){return t.apply(e,arguments)}},o={}.hasOwnProperty;i=t("../core/events"),r=t("../device"),n=t("./resampler"),function(t){var i,s,l;function c(t,e){this.sampleRate=t,this.channels=e,this.refill=a(this.refill,this),this.context=null!=l?l:l=new i,this.deviceSampleRate=this.context.sampleRate,this.bufferSize=Math.ceil(4096/(this.deviceSampleRate/this.sampleRate)*this.channels),this.bufferSize+=this.bufferSize%this.channels,this.deviceSampleRate!==this.sampleRate&&(this.resampler=new n(this.sampleRate,this.deviceSampleRate,this.channels,this.bufferSize)),this.node=this.context[s](4096,this.channels,this.channels),this.node.onaudioprocess=this.refill,this.node.connect(this.context.destination)}(function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype})(c,t),r.register(c),i=e.AudioContext||e.webkitAudioContext,c.supported=i&&("function"==typeof i.prototype[s="createScriptProcessor"]||"function"==typeof i.prototype[s="createJavaScriptNode"]),l=null,c.prototype.refill=function(t){var e,r,i,n,a,o,s,l,c,u;for(o=t.outputBuffer,e=o.numberOfChannels,r=new Array(e),n=s=0;s<e;n=s+=1)r[n]=o.getChannelData(n);for(i=new Float32Array(this.bufferSize),this.emit("refill",i),this.resampler&&(i=this.resampler.resampler(i)),n=l=0,u=o.length;l<u;n=l+=1)for(a=c=0;c<e;a=c+=1)r[a][n]=i[n*e+a]},c.prototype.destroy=function(){return this.node.disconnect(0)},c.prototype.getDeviceTime=function(){return this.context.currentTime*this.sampleRate}}(i)}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/events":8,"../device":20,"./resampler":22}],24:[function(t,e,r){(function(){var t;t=function(){function t(t,e){t&&e&&Object.defineProperty(this,"value",{get:function(){return t[e]}})}return t.prototype.process=function(t){},t}(),e.exports=t}).call(this)},{}],25:[function(t,e,r){(function(){var r,i,n={}.hasOwnProperty;i=t("../filter"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.process=function(t){var e,r,i,n;if(0!==this.value)for(r=Math.max(-50,Math.min(50,this.value)),e=i=0,n=t.length;i<n;e=i+=2)t[e]*=Math.min(1,(50-r)/50),t[e+1]*=Math.min(1,(50+r)/50)},e}(i),e.exports=r}).call(this)},{"../filter":24}],26:[function(t,e,r){(function(){var r,i,n={}.hasOwnProperty;r=t("../filter"),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.process=function(t){var e,r,i,n;if(!(this.value>=100))for(r=Math.max(0,Math.min(100,this.value))/100,e=i=0,n=t.length;i<n;e=i+=1)t[e]*=r},e}(r),e.exports=i}).call(this)},{"../filter":24}],27:[function(t,e,r){(function(){var r,i,n,a,o,s,l,c=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty;a=t("./core/events"),r=t("./asset"),l=t("./filters/volume"),n=t("./filters/balance"),s=t("./queue"),i=t("./device"),o=function(t){function e(t){this.asset=t,this.startPlaying=c(this.startPlaying,this),this.playing=!1,this.buffered=0,this.currentTime=0,this.duration=0,this.volume=100,this.pan=0,this.metadata={},this.filters=[new l(this,"volume"),new n(this,"pan")],this.asset.on("buffer",function(t){return function(e){return t.buffered=e,t.emit("buffer",t.buffered)}}(this)),this.asset.on("decodeStart",function(t){return function(){return t.queue=new s(t.asset),t.queue.once("ready",t.startPlaying)}}(this)),this.asset.on("format",function(t){return function(e){return t.format=e,t.emit("format",t.format)}}(this)),this.asset.on("metadata",function(t){return function(e){return t.metadata=e,t.emit("metadata",t.metadata)}}(this)),this.asset.on("duration",function(t){return function(e){return t.duration=e,t.emit("duration",t.duration)}}(this)),this.asset.on("error",function(t){return function(e){return t.emit("error",e)}}(this))}return function(t,e){for(var r in e)u.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.fromURL=function(t,i){return new e(r.fromURL(t,i))},e.fromFile=function(t){return new e(r.fromFile(t))},e.fromBuffer=function(t){return new e(r.fromBuffer(t))},e.prototype.preload=function(){if(this.asset)return this.startedPreloading=!0,this.asset.start(!1)},e.prototype.play=function(){var t;if(!this.playing)return this.startedPreloading||this.preload(),this.playing=!0,null!=(t=this.device)?t.start():void 0},e.prototype.pause=function(){var t;if(this.playing)return this.playing=!1,null!=(t=this.device)?t.stop():void 0},e.prototype.togglePlayback=function(){return this.playing?this.pause():this.play()},e.prototype.stop=function(){var t;return this.pause(),this.asset.stop(),null!=(t=this.device)?t.destroy():void 0},e.prototype.seek=function(t){var e;return null!=(e=this.device)&&e.stop(),this.queue.once("ready",function(t){return function(){var e,r;if(null!=(e=t.device)&&e.seek(t.currentTime),t.playing)return null!=(r=t.device)?r.start():void 0}}(this)),t=t/1e3*this.format.sampleRate,t=this.asset.decoder.seek(t),this.currentTime=t/this.format.sampleRate*1e3|0,this.queue.reset(),this.currentTime},e.prototype.startPlaying=function(){var t,e;return t=this.queue.read(),e=0,this.device=new i(this.format.sampleRate,this.format.channelsPerFrame),this.device.on("timeUpdate",function(t){return function(e){return t.currentTime=e,t.emit("progress",t.currentTime)}}(this)),this.refill=function(r){return function(i){var n,a,o,s,l,c;if(r.playing){for(t||(t=r.queue.read(),e=0),n=0;t&&n<i.length;){for(a=Math.min(t.length-e,i.length-n),o=0;o<a;o+=1)i[n++]=t[e++];e===t.length&&(t=r.queue.read(),e=0)}for(c=r.filters,s=0,l=c.length;s<l;s++)c[s].process(i);t||(r.queue.ended?(r.currentTime=r.duration,r.emit("progress",r.currentTime),r.emit("end"),r.stop()):r.device.stop())}}}(this),this.device.on("refill",this.refill),this.playing&&this.device.start(),this.emit("ready")},e.prototype.destroy=function(){var t,e;return this.stop(),null!=(t=this.device)&&t.off(),null!=(e=this.asset)&&e.destroy(),this.off()},e}(a),e.exports=o}).call(this)},{"./asset":1,"./core/events":8,"./device":20,"./filters/balance":25,"./filters/volume":26,"./queue":28}],28:[function(t,e,r){(function(){var r,i,n=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty;r=t("./core/events"),i=function(t){function e(t){this.asset=t,this.write=n(this.write,this),this.readyMark=64,this.finished=!1,this.buffering=!0,this.ended=!1,this.buffers=[],this.asset.on("data",this.write),this.asset.on("end",function(t){return function(){return t.ended=!0}}(this)),this.asset.decodePacket()}return function(t,e){for(var r in e)a.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.write=function(t){if(t&&this.buffers.push(t),this.buffering)return this.buffers.length>=this.readyMark||this.ended?(this.buffering=!1,this.emit("ready")):this.asset.decodePacket()},e.prototype.read=function(){return 0===this.buffers.length?null:(this.asset.decodePacket(),this.buffers.shift())},e.prototype.reset=function(){return this.buffers.length=0,this.buffering=!0,this.asset.decodePacket()},e}(r),e.exports=i}).call(this)},{"./core/events":8}],29:[function(t,e,r){var i,n,a,o={}.hasOwnProperty;n=t("../../core/events"),i=t("../../core/buffer"),a=function(t){function e(t){if(this.file=t,"undefined"==typeof FileReader||null===FileReader)return this.emit("error","This browser does not have FileReader support.");this.offset=0,this.length=this.file.size,this.chunkSize=1<<20,this.file[this.slice="slice"]||this.file[this.slice="webkitSlice"]||this.file[this.slice="mozSlice"]}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.start=function(){return this.reader&&!this.active?this.loop():(this.reader=new FileReader,this.active=!0,this.reader.onload=function(t){return function(e){var r;if(r=new i(new Uint8Array(e.target.result)),t.offset+=r.length,t.emit("data",r),t.active=!1,t.offset<t.length)return t.loop()}}(this),this.reader.onloadend=function(t){return function(){if(t.offset===t.length)return t.emit("end"),t.reader=null}}(this),this.reader.onerror=function(t){return function(e){return t.emit("error",e)}}(this),this.reader.onprogress=function(t){return function(e){return t.emit("progress",(t.offset+e.loaded)/t.length*100)}}(this),this.loop())},e.prototype.loop=function(){var t,e;return this.active=!0,e=Math.min(this.offset+this.chunkSize,this.length),t=this.file[this.slice](this.offset,e),this.reader.readAsArrayBuffer(t)},e.prototype.pause=function(){var t;this.active=!1;try{return null!=(t=this.reader)?t.abort():void 0}catch(t){}},e.prototype.reset=function(){return this.pause(),this.offset=0},e}(n),e.exports=a},{"../../core/buffer":6,"../../core/events":8}],30:[function(t,e,r){var i,n,a,o={}.hasOwnProperty;n=t("../../core/events"),i=t("../../core/buffer"),a=function(t){function e(t,e){this.url=t,this.opts=null!=e?e:{},this.chunkSize=1<<20,this.inflight=!1,this.opts.length&&(this.length=this.opts.length),this.reset()}return function(t,e){for(var r in e)o.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.start=function(){return this.length&&!this.inflight?this.loop():(this.inflight=!0,this.xhr=new XMLHttpRequest,this.xhr.onload=function(t){return function(e){return t.length=parseInt(t.xhr.getResponseHeader("Content-Length")),t.inflight=!1,t.loop()}}(this),this.xhr.onerror=function(t){return function(e){return t.pause(),t.emit("error",e)}}(this),this.xhr.onabort=function(t){return function(e){return t.inflight=!1}}(this),this.xhr.open("HEAD",this.url,!0),this.xhr.send(null))},e.prototype.loop=function(){var t;return this.inflight||!this.length?this.emit("error","Something is wrong in HTTPSource.loop"):(this.inflight=!0,this.xhr=new XMLHttpRequest,this.xhr.onload=function(t){return function(e){var r,n,a,o,s,l;if(t.xhr.response)r=new Uint8Array(t.xhr.response);else for(o=t.xhr.responseText,r=new Uint8Array(o.length),a=s=0,l=o.length;0<=l?s<l:s>l;a=0<=l?++s:--s)r[a]=255&o.charCodeAt(a);if(n=new i(r),t.offset+=n.length,t.emit("data",n),t.offset>=t.length&&t.emit("end"),t.inflight=!1,!(t.offset>=t.length))return t.loop()}}(this),this.xhr.onprogress=function(t){return function(e){return t.emit("progress",(t.offset+e.loaded)/t.length*100)}}(this),this.xhr.onerror=function(t){return function(e){return t.emit("error",e),t.pause()}}(this),this.xhr.onabort=function(t){return function(e){return t.inflight=!1}}(this),this.xhr.open("GET",this.url,!0),this.xhr.responseType="arraybuffer",t=Math.min(this.offset+this.chunkSize,this.length-1),this.xhr.setRequestHeader("If-None-Match","webkit-no-cache"),this.xhr.setRequestHeader("Range","bytes="+this.offset+"-"+t),this.xhr.overrideMimeType("text/plain; charset=x-user-defined"),this.xhr.send(null))},e.prototype.pause=function(){var t;return this.inflight=!1,null!=(t=this.xhr)?t.abort():void 0},e.prototype.reset=function(){return this.pause(),this.offset=0},e}(n),e.exports=a},{"../../core/buffer":6,"../../core/events":8}],31:[function(t,r,i){(function(e){(function(){var i,n,a,o,s=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty;o=t("../core/events"),n=t("../core/bufferlist"),i=t("../core/buffer"),a=function(t){var r,a;function o(t){this.loop=s(this.loop,this),t instanceof n?this.list=t:(this.list=new n,this.list.append(new i(t))),this.paused=!0}return function(t,e){for(var r in e)l.call(e,r)&&(t[r]=e[r]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(o,t),a=e.setImmediate||function(t){return e.setTimeout(t,0)},r=e.clearImmediate||function(t){return e.clearTimeout(t)},o.prototype.start=function(){return this.paused=!1,this._timer=a(this.loop)},o.prototype.loop=function(){return this.emit("progress",(this.list.numBuffers-this.list.availableBuffers+1)/this.list.numBuffers*100|0),this.emit("data",this.list.first),this.list.advance()?a(this.loop):this.emit("end")},o.prototype.pause=function(){return r(this._timer),this.paused=!0},o.prototype.reset=function(){return this.pause(),this.list.rewind()},o}(o),r.exports=a}).call(this)}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/buffer":6,"../core/bufferlist":7,"../core/events":8}],32:[function(t,e,r){var i,n,a;for(i in a=t("./src/aurora"))n=a[i],r[i]=n;t("./src/devices/webaudio"),t("./src/devices/mozilla")},{"./src/aurora":2,"./src/devices/mozilla":21,"./src/devices/webaudio":23}]},{},[32])(32)}).call(this,r(9))},44:function(t,e){},75:function(t,e,r){},97:function(t,e){},99:function(t,e){}});
//# sourceMappingURL=main.js.map